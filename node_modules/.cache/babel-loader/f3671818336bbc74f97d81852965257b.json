{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n/**\n * Copyright IBM Corp. 2016, 2022\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport ddsSettings from '../../internal/vendor/@carbon/ibmdotcom-utilities/utilities/settings/settings';\nimport PropTypes from 'prop-types';\nimport settings from 'carbon-components/es/globals/js/settings';\nimport smoothScroll from '@carbon/ibmdotcom-utilities/es/utilities/smoothScroll/smoothScroll';\nimport TableOfContents20 from '@carbon/icons-react/es/table-of-contents/20';\nvar stablePrefix = ddsSettings.stablePrefix;\nvar prefix = settings.prefix;\n/**\n * Mobile Component.\n */\n\nvar TOCMobile = function TOCMobile(_ref) {\n  var menuItems = _ref.menuItems,\n      selectedId = _ref.selectedId,\n      menuLabel = _ref.menuLabel,\n      updateState = _ref.updateState;\n\n  var _useState = useState('menuLabel'),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedOption = _useState2[0],\n      setSelectedOption = _useState2[1];\n\n  useEffect(function () {\n    setSelectedOption(selectedId);\n  }, [selectedId]);\n  /**\n   * Handle onChange event of select\n   *\n   * @param {*} e event object\n   */\n\n  var handleChange = function handleChange(e) {\n    var id = e.target.value;\n    var filteredItems = menuItems.filter(function (menu) {\n      return menu.id === id;\n    });\n    var title = filteredItems[0].title;\n    updateState(id, title);\n    var selector = \"a[name=\\\"\".concat(id, \"\\\"]\");\n    smoothScroll(null, selector, 50);\n    triggerFocus(selector);\n  };\n  /**\n   * Trigger the focus on screen readers, so they can read the target paragraph\n   *\n   * @param {*} elem Selector to find the item\n   */\n\n\n  function triggerFocus(elem) {\n    var element = document.querySelector(elem);\n\n    if (element) {\n      var handleFocusOut = function handleFocusOut(event) {\n        var focusoutTarget = event.target;\n        focusoutTarget.removeAttribute('tabindex');\n      };\n\n      element.setAttribute('tabindex', '0');\n      element.focus({\n        preventScroll: true\n      });\n      element.addEventListener('focusout', handleFocusOut, {\n        once: true\n      });\n    }\n  }\n  /**\n   * Handle OnBlur event\n   *\n   * @returns {null} Returns null for blur events\n   */\n\n\n  var handleOnBlur = function handleOnBlur() {\n    return null;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefix, \"--tableofcontents__mobile\"),\n    \"data-autoid\": \"\".concat(stablePrefix, \"--tableofcontents__mobile\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefix, \"--tableofcontents__mobile__select__wrapper\")\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    \"aria-label\": menuLabel,\n    className: \"\".concat(prefix, \"--tableofcontents__mobile__select\"),\n    onBlur: handleOnBlur,\n    value: selectedOption,\n    onChange: function onChange(e) {\n      return handleChange(e);\n    }\n  }, renderOptions(menuItems, menuLabel)), /*#__PURE__*/React.createElement(TableOfContents20, {\n    className: \"\".concat(prefix, \"--tableofcontents__mobile__select__icon\"),\n    \"aria-label\": \"menu icon\"\n  }, /*#__PURE__*/React.createElement(\"title\", null, \"menu icon\"))));\n};\n/**\n * Render options for select\n *\n * @param {Array} options menu item arrray\n * @param {Array} label menu label\n * @returns {*} JSX Object\n */\n\n\nvar renderOptions = function renderOptions(options, label) {\n  var labelObj = {\n    title: \"\".concat(label, \" ...\"),\n    id: 'menuLabel'\n  };\n  options.findIndex(function (x) {\n    return x.id === labelObj.id;\n  }) === -1 ? options.unshift(labelObj) : null;\n  return options.map(function (option, index) {\n    if (option) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        className: \"\".concat(prefix, \"--tableofcontents__mobile__select__option\"),\n        \"data-autoid\": \"\".concat(stablePrefix, \"--tableofcontents__mobile__select__option-\").concat(option.id),\n        key: index,\n        value: option.id,\n        defaultValue: index === 0,\n        disabled: index === 0,\n        hidden: index === 0\n      }, option.title);\n    }\n  });\n};\n\nTOCMobile.propTypes = {\n  /**\n   * Array of menu item objects to render within the side nav.\n   * Each items has the following structure:\n   *\n   * | Properties Name | Data Type | Description     |\n   * | --------------- | --------- | --------------- |\n   * | title           | String    | Menu title text |\n   * | id              | String    | Menu id         |\n   */\n  menuItems: PropTypes.array,\n\n  /**\n   * Id of a menu item.\n   */\n  selectedId: PropTypes.string,\n\n  /**\n   * Menu label for mobile menu.\n   */\n  menuLabel: PropTypes.string,\n\n  /**\n   * Function to update parent state.\n   */\n  updateState: PropTypes.func\n};\nexport default TOCMobile;","map":{"version":3,"sources":["/Users/henriquefelixcastro/Downloads/Educathon 2022/educathon-2022-website/node_modules/@carbon/ibmdotcom-react/es/components/TableOfContents/TOCMobile.js"],"names":["_slicedToArray","React","useState","useEffect","ddsSettings","PropTypes","settings","smoothScroll","TableOfContents20","stablePrefix","prefix","TOCMobile","_ref","menuItems","selectedId","menuLabel","updateState","_useState","_useState2","selectedOption","setSelectedOption","handleChange","e","id","target","value","filteredItems","filter","menu","title","selector","concat","triggerFocus","elem","element","document","querySelector","handleFocusOut","event","focusoutTarget","removeAttribute","setAttribute","focus","preventScroll","addEventListener","once","handleOnBlur","createElement","className","onBlur","onChange","renderOptions","options","label","labelObj","findIndex","x","unshift","map","option","index","key","defaultValue","disabled","hidden","propTypes","array","string","func"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,sCAA3B;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,WAAP,MAAwB,+EAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,0CAArB;AACA,OAAOC,YAAP,MAAyB,oEAAzB;AACA,OAAOC,iBAAP,MAA8B,6CAA9B;AACA,IAAIC,YAAY,GAAGL,WAAW,CAACK,YAA/B;AACA,IAAIC,MAAM,GAAGJ,QAAQ,CAACI,MAAtB;AACA;AACA;AACA;;AAEA,IAAIC,SAAS,GAAG,SAASA,SAAT,CAAmBC,IAAnB,EAAyB;AACvC,MAAIC,SAAS,GAAGD,IAAI,CAACC,SAArB;AAAA,MACIC,UAAU,GAAGF,IAAI,CAACE,UADtB;AAAA,MAEIC,SAAS,GAAGH,IAAI,CAACG,SAFrB;AAAA,MAGIC,WAAW,GAAGJ,IAAI,CAACI,WAHvB;;AAKA,MAAIC,SAAS,GAAGf,QAAQ,CAAC,WAAD,CAAxB;AAAA,MACIgB,UAAU,GAAGlB,cAAc,CAACiB,SAAD,EAAY,CAAZ,CAD/B;AAAA,MAEIE,cAAc,GAAGD,UAAU,CAAC,CAAD,CAF/B;AAAA,MAGIE,iBAAiB,GAAGF,UAAU,CAAC,CAAD,CAHlC;;AAKAf,EAAAA,SAAS,CAAC,YAAY;AACpBiB,IAAAA,iBAAiB,CAACN,UAAD,CAAjB;AACD,GAFQ,EAEN,CAACA,UAAD,CAFM,CAAT;AAGA;AACF;AACA;AACA;AACA;;AAEE,MAAIO,YAAY,GAAG,SAASA,YAAT,CAAsBC,CAAtB,EAAyB;AAC1C,QAAIC,EAAE,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAlB;AACA,QAAIC,aAAa,GAAGb,SAAS,CAACc,MAAV,CAAiB,UAAUC,IAAV,EAAgB;AACnD,aAAOA,IAAI,CAACL,EAAL,KAAYA,EAAnB;AACD,KAFmB,CAApB;AAGA,QAAIM,KAAK,GAAGH,aAAa,CAAC,CAAD,CAAb,CAAiBG,KAA7B;AACAb,IAAAA,WAAW,CAACO,EAAD,EAAKM,KAAL,CAAX;AACA,QAAIC,QAAQ,GAAG,YAAYC,MAAZ,CAAmBR,EAAnB,EAAuB,KAAvB,CAAf;AACAhB,IAAAA,YAAY,CAAC,IAAD,EAAOuB,QAAP,EAAiB,EAAjB,CAAZ;AACAE,IAAAA,YAAY,CAACF,QAAD,CAAZ;AACD,GAVD;AAWA;AACF;AACA;AACA;AACA;;;AAGE,WAASE,YAAT,CAAsBC,IAAtB,EAA4B;AAC1B,QAAIC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuBH,IAAvB,CAAd;;AAEA,QAAIC,OAAJ,EAAa;AACX,UAAIG,cAAc,GAAG,SAASA,cAAT,CAAwBC,KAAxB,EAA+B;AAClD,YAAIC,cAAc,GAAGD,KAAK,CAACd,MAA3B;AACAe,QAAAA,cAAc,CAACC,eAAf,CAA+B,UAA/B;AACD,OAHD;;AAKAN,MAAAA,OAAO,CAACO,YAAR,CAAqB,UAArB,EAAiC,GAAjC;AACAP,MAAAA,OAAO,CAACQ,KAAR,CAAc;AACZC,QAAAA,aAAa,EAAE;AADH,OAAd;AAGAT,MAAAA,OAAO,CAACU,gBAAR,CAAyB,UAAzB,EAAqCP,cAArC,EAAqD;AACnDQ,QAAAA,IAAI,EAAE;AAD6C,OAArD;AAGD;AACF;AACD;AACF;AACA;AACA;AACA;;;AAGE,MAAIC,YAAY,GAAG,SAASA,YAAT,GAAwB;AACzC,WAAO,IAAP;AACD,GAFD;;AAIA,SAAO,aAAa7C,KAAK,CAAC8C,aAAN,CAAoB,KAApB,EAA2B;AAC7CC,IAAAA,SAAS,EAAE,GAAGjB,MAAH,CAAUrB,MAAV,EAAkB,2BAAlB,CADkC;AAE7C,mBAAe,GAAGqB,MAAH,CAAUtB,YAAV,EAAwB,2BAAxB;AAF8B,GAA3B,EAGjB,aAAaR,KAAK,CAAC8C,aAAN,CAAoB,KAApB,EAA2B;AACzCC,IAAAA,SAAS,EAAE,GAAGjB,MAAH,CAAUrB,MAAV,EAAkB,4CAAlB;AAD8B,GAA3B,EAEb,aAAaT,KAAK,CAAC8C,aAAN,CAAoB,QAApB,EAA8B;AAC5C,kBAAchC,SAD8B;AAE5CiC,IAAAA,SAAS,EAAE,GAAGjB,MAAH,CAAUrB,MAAV,EAAkB,mCAAlB,CAFiC;AAG5CuC,IAAAA,MAAM,EAAEH,YAHoC;AAI5CrB,IAAAA,KAAK,EAAEN,cAJqC;AAK5C+B,IAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkB5B,CAAlB,EAAqB;AAC7B,aAAOD,YAAY,CAACC,CAAD,CAAnB;AACD;AAP2C,GAA9B,EAQb6B,aAAa,CAACtC,SAAD,EAAYE,SAAZ,CARA,CAFA,EAUyB,aAAad,KAAK,CAAC8C,aAAN,CAAoBvC,iBAApB,EAAuC;AAC3FwC,IAAAA,SAAS,EAAE,GAAGjB,MAAH,CAAUrB,MAAV,EAAkB,yCAAlB,CADgF;AAE3F,kBAAc;AAF6E,GAAvC,EAGnD,aAAaT,KAAK,CAAC8C,aAAN,CAAoB,OAApB,EAA6B,IAA7B,EAAmC,WAAnC,CAHsC,CAVtC,CAHI,CAApB;AAiBD,CApFD;AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,IAAII,aAAa,GAAG,SAASA,aAAT,CAAuBC,OAAvB,EAAgCC,KAAhC,EAAuC;AACzD,MAAIC,QAAQ,GAAG;AACbzB,IAAAA,KAAK,EAAE,GAAGE,MAAH,CAAUsB,KAAV,EAAiB,MAAjB,CADM;AAEb9B,IAAAA,EAAE,EAAE;AAFS,GAAf;AAIA6B,EAAAA,OAAO,CAACG,SAAR,CAAkB,UAAUC,CAAV,EAAa;AAC7B,WAAOA,CAAC,CAACjC,EAAF,KAAS+B,QAAQ,CAAC/B,EAAzB;AACD,GAFD,MAEO,CAAC,CAFR,GAEY6B,OAAO,CAACK,OAAR,CAAgBH,QAAhB,CAFZ,GAEwC,IAFxC;AAGA,SAAOF,OAAO,CAACM,GAAR,CAAY,UAAUC,MAAV,EAAkBC,KAAlB,EAAyB;AAC1C,QAAID,MAAJ,EAAY;AACV,aAAO,aAAa1D,KAAK,CAAC8C,aAAN,CAAoB,QAApB,EAA8B;AAChDC,QAAAA,SAAS,EAAE,GAAGjB,MAAH,CAAUrB,MAAV,EAAkB,2CAAlB,CADqC;AAEhD,uBAAe,GAAGqB,MAAH,CAAUtB,YAAV,EAAwB,4CAAxB,EAAsEsB,MAAtE,CAA6E4B,MAAM,CAACpC,EAApF,CAFiC;AAGhDsC,QAAAA,GAAG,EAAED,KAH2C;AAIhDnC,QAAAA,KAAK,EAAEkC,MAAM,CAACpC,EAJkC;AAKhDuC,QAAAA,YAAY,EAAEF,KAAK,KAAK,CALwB;AAMhDG,QAAAA,QAAQ,EAAEH,KAAK,KAAK,CAN4B;AAOhDI,QAAAA,MAAM,EAAEJ,KAAK,KAAK;AAP8B,OAA9B,EAQjBD,MAAM,CAAC9B,KARU,CAApB;AASD;AACF,GAZM,CAAP;AAaD,CArBD;;AAuBAlB,SAAS,CAACsD,SAAV,GAAsB;AACpB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEpD,EAAAA,SAAS,EAAER,SAAS,CAAC6D,KAVD;;AAYpB;AACF;AACA;AACEpD,EAAAA,UAAU,EAAET,SAAS,CAAC8D,MAfF;;AAiBpB;AACF;AACA;AACEpD,EAAAA,SAAS,EAAEV,SAAS,CAAC8D,MApBD;;AAsBpB;AACF;AACA;AACEnD,EAAAA,WAAW,EAAEX,SAAS,CAAC+D;AAzBH,CAAtB;AA2BA,eAAezD,SAAf","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\n/**\n * Copyright IBM Corp. 2016, 2022\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, { useState, useEffect } from 'react';\nimport ddsSettings from '../../internal/vendor/@carbon/ibmdotcom-utilities/utilities/settings/settings';\nimport PropTypes from 'prop-types';\nimport settings from 'carbon-components/es/globals/js/settings';\nimport smoothScroll from '@carbon/ibmdotcom-utilities/es/utilities/smoothScroll/smoothScroll';\nimport TableOfContents20 from '@carbon/icons-react/es/table-of-contents/20';\nvar stablePrefix = ddsSettings.stablePrefix;\nvar prefix = settings.prefix;\n/**\n * Mobile Component.\n */\n\nvar TOCMobile = function TOCMobile(_ref) {\n  var menuItems = _ref.menuItems,\n      selectedId = _ref.selectedId,\n      menuLabel = _ref.menuLabel,\n      updateState = _ref.updateState;\n\n  var _useState = useState('menuLabel'),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedOption = _useState2[0],\n      setSelectedOption = _useState2[1];\n\n  useEffect(function () {\n    setSelectedOption(selectedId);\n  }, [selectedId]);\n  /**\n   * Handle onChange event of select\n   *\n   * @param {*} e event object\n   */\n\n  var handleChange = function handleChange(e) {\n    var id = e.target.value;\n    var filteredItems = menuItems.filter(function (menu) {\n      return menu.id === id;\n    });\n    var title = filteredItems[0].title;\n    updateState(id, title);\n    var selector = \"a[name=\\\"\".concat(id, \"\\\"]\");\n    smoothScroll(null, selector, 50);\n    triggerFocus(selector);\n  };\n  /**\n   * Trigger the focus on screen readers, so they can read the target paragraph\n   *\n   * @param {*} elem Selector to find the item\n   */\n\n\n  function triggerFocus(elem) {\n    var element = document.querySelector(elem);\n\n    if (element) {\n      var handleFocusOut = function handleFocusOut(event) {\n        var focusoutTarget = event.target;\n        focusoutTarget.removeAttribute('tabindex');\n      };\n\n      element.setAttribute('tabindex', '0');\n      element.focus({\n        preventScroll: true\n      });\n      element.addEventListener('focusout', handleFocusOut, {\n        once: true\n      });\n    }\n  }\n  /**\n   * Handle OnBlur event\n   *\n   * @returns {null} Returns null for blur events\n   */\n\n\n  var handleOnBlur = function handleOnBlur() {\n    return null;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefix, \"--tableofcontents__mobile\"),\n    \"data-autoid\": \"\".concat(stablePrefix, \"--tableofcontents__mobile\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefix, \"--tableofcontents__mobile__select__wrapper\")\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    \"aria-label\": menuLabel,\n    className: \"\".concat(prefix, \"--tableofcontents__mobile__select\"),\n    onBlur: handleOnBlur,\n    value: selectedOption,\n    onChange: function onChange(e) {\n      return handleChange(e);\n    }\n  }, renderOptions(menuItems, menuLabel)), /*#__PURE__*/React.createElement(TableOfContents20, {\n    className: \"\".concat(prefix, \"--tableofcontents__mobile__select__icon\"),\n    \"aria-label\": \"menu icon\"\n  }, /*#__PURE__*/React.createElement(\"title\", null, \"menu icon\"))));\n};\n/**\n * Render options for select\n *\n * @param {Array} options menu item arrray\n * @param {Array} label menu label\n * @returns {*} JSX Object\n */\n\n\nvar renderOptions = function renderOptions(options, label) {\n  var labelObj = {\n    title: \"\".concat(label, \" ...\"),\n    id: 'menuLabel'\n  };\n  options.findIndex(function (x) {\n    return x.id === labelObj.id;\n  }) === -1 ? options.unshift(labelObj) : null;\n  return options.map(function (option, index) {\n    if (option) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        className: \"\".concat(prefix, \"--tableofcontents__mobile__select__option\"),\n        \"data-autoid\": \"\".concat(stablePrefix, \"--tableofcontents__mobile__select__option-\").concat(option.id),\n        key: index,\n        value: option.id,\n        defaultValue: index === 0,\n        disabled: index === 0,\n        hidden: index === 0\n      }, option.title);\n    }\n  });\n};\n\nTOCMobile.propTypes = {\n  /**\n   * Array of menu item objects to render within the side nav.\n   * Each items has the following structure:\n   *\n   * | Properties Name | Data Type | Description     |\n   * | --------------- | --------- | --------------- |\n   * | title           | String    | Menu title text |\n   * | id              | String    | Menu id         |\n   */\n  menuItems: PropTypes.array,\n\n  /**\n   * Id of a menu item.\n   */\n  selectedId: PropTypes.string,\n\n  /**\n   * Menu label for mobile menu.\n   */\n  menuLabel: PropTypes.string,\n\n  /**\n   * Function to update parent state.\n   */\n  updateState: PropTypes.func\n};\nexport default TOCMobile;"]},"metadata":{},"sourceType":"module"}