{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * Copyright IBM Corp. 2016, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nimport React, { useCallback, useEffect, useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport isEqual from 'lodash.isequal';\n\nfunction callOnChangeHandler(_ref) {\n  var isControlled = _ref.isControlled,\n      isMounted = _ref.isMounted,\n      onChangeHandlerControlled = _ref.onChangeHandlerControlled,\n      onChangeHandlerUncontrolled = _ref.onChangeHandlerUncontrolled,\n      selectedItems = _ref.selectedItems;\n\n  if (isControlled) {\n    if (isMounted && onChangeHandlerControlled) {\n      onChangeHandlerControlled({\n        selectedItems: selectedItems\n      });\n    }\n  } else {\n    onChangeHandlerUncontrolled(selectedItems);\n  }\n}\n\nexport function useSelection(_ref2) {\n  var disabled = _ref2.disabled,\n      onChange = _ref2.onChange,\n      _ref2$initialSelected = _ref2.initialSelectedItems,\n      initialSelectedItems = _ref2$initialSelected === void 0 ? [] : _ref2$initialSelected,\n      controlledItems = _ref2.selectedItems;\n  var isMounted = useRef(false);\n  var savedOnChange = useRef(onChange);\n\n  var _useState = useState(initialSelectedItems),\n      _useState2 = _slicedToArray(_useState, 2),\n      uncontrolledItems = _useState2[0],\n      setUncontrolledItems = _useState2[1];\n\n  var isControlled = !!controlledItems;\n  var selectedItems = isControlled ? controlledItems : uncontrolledItems;\n  var onItemChange = useCallback(function (item) {\n    if (disabled) {\n      return;\n    }\n\n    var selectedIndex;\n    selectedItems.forEach(function (selectedItem, index) {\n      if (isEqual(selectedItem, item)) {\n        selectedIndex = index;\n      }\n    });\n    var newSelectedItems;\n\n    if (selectedIndex === undefined) {\n      newSelectedItems = selectedItems.concat(item);\n      callOnChangeHandler({\n        isControlled: isControlled,\n        isMounted: isMounted.current,\n        onChangeHandlerControlled: savedOnChange.current,\n        onChangeHandlerUncontrolled: setUncontrolledItems,\n        selectedItems: newSelectedItems\n      });\n      return;\n    }\n\n    newSelectedItems = removeAtIndex(selectedItems, selectedIndex);\n    callOnChangeHandler({\n      isControlled: isControlled,\n      isMounted: isMounted.current,\n      onChangeHandlerControlled: savedOnChange.current,\n      onChangeHandlerUncontrolled: setUncontrolledItems,\n      selectedItems: newSelectedItems\n    });\n  }, [disabled, isControlled, selectedItems]);\n  var clearSelection = useCallback(function () {\n    if (disabled) {\n      return;\n    }\n\n    callOnChangeHandler({\n      isControlled: isControlled,\n      isMounted: isMounted.current,\n      onChangeHandlerControlled: savedOnChange.current,\n      onChangeHandlerUncontrolled: setUncontrolledItems,\n      selectedItems: []\n    });\n  }, [disabled, isControlled]);\n  useEffect(function () {\n    savedOnChange.current = onChange;\n  }, [onChange]);\n  useEffect(function () {\n    if (isMounted.current && savedOnChange.current && !isControlled) {\n      savedOnChange.current({\n        selectedItems: selectedItems\n      });\n    }\n  }, [isControlled, selectedItems]);\n  useEffect(function () {\n    isMounted.current = true;\n    return function () {\n      isMounted.current = false;\n    };\n  }, []);\n  return {\n    selectedItems: selectedItems,\n    onItemChange: onItemChange,\n    clearSelection: clearSelection\n  };\n}\n\nvar Selection = /*#__PURE__*/function (_React$Component) {\n  _inherits(Selection, _React$Component);\n\n  var _super = _createSuper(Selection);\n\n  function Selection(props) {\n    var _this;\n\n    _classCallCheck(this, Selection);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"internalSetState\", function (stateToSet, callback) {\n      return _this.setState(stateToSet, function () {\n        if (callback) {\n          callback();\n        }\n\n        if (_this.props.onChange) {\n          _this.props.onChange(_this.state);\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClearSelection\", function () {\n      if (_this.props.disabled) {\n        return;\n      }\n\n      _this.internalSetState({\n        selectedItems: []\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSelectItem\", function (item) {\n      _this.internalSetState(function (state) {\n        return {\n          selectedItems: state.selectedItems.concat(item)\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRemoveItem\", function (index) {\n      _this.internalSetState(function (state) {\n        return {\n          selectedItems: removeAtIndex(state.selectedItems, index)\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnItemChange\", function (item) {\n      if (_this.props.disabled) {\n        return;\n      }\n\n      var selectedItems = _this.state.selectedItems;\n      var selectedIndex;\n      selectedItems.forEach(function (selectedItem, index) {\n        if (isEqual(selectedItem, item)) {\n          selectedIndex = index;\n        }\n      });\n\n      if (selectedIndex === undefined) {\n        _this.handleSelectItem(item);\n\n        return;\n      }\n\n      _this.handleRemoveItem(selectedIndex);\n    });\n\n    _this.state = {\n      selectedItems: props.initialSelectedItems\n    };\n    return _this;\n  }\n\n  _createClass(Selection, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          render = _this$props.render;\n      var selectedItems = this.state.selectedItems;\n      var renderProps = {\n        selectedItems: selectedItems,\n        onItemChange: this.handleOnItemChange,\n        clearSelection: this.handleClearSelection\n      };\n\n      if (render !== undefined) {\n        return render(renderProps);\n      }\n\n      if (children !== undefined) {\n        return children(renderProps);\n      }\n\n      return null;\n    }\n  }]);\n\n  return Selection;\n}(React.Component); // Generic utility for safely removing an element at a given index from an\n// array.\n\n\n_defineProperty(Selection, \"propTypes\", {\n  children: PropTypes.func,\n  disabled: PropTypes.bool,\n  initialSelectedItems: PropTypes.array.isRequired,\n  onChange: PropTypes.func,\n  render: PropTypes.func\n});\n\n_defineProperty(Selection, \"defaultProps\", {\n  initialSelectedItems: []\n});\n\nexport { Selection as default };\n\nvar removeAtIndex = function removeAtIndex(array, index) {\n  var result = array.slice();\n  result.splice(index, 1);\n  return result;\n};","map":{"version":3,"sources":["/Users/henriquefelixcastro/Downloads/Educathon 2022/educathon-2022-website/node_modules/carbon-components-react/es/internal/Selection.js"],"names":["_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","_slicedToArray","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","React","useCallback","useEffect","useState","useRef","PropTypes","isEqual","callOnChangeHandler","_ref","isControlled","isMounted","onChangeHandlerControlled","onChangeHandlerUncontrolled","selectedItems","useSelection","_ref2","disabled","onChange","_ref2$initialSelected","initialSelectedItems","controlledItems","savedOnChange","_useState","_useState2","uncontrolledItems","setUncontrolledItems","onItemChange","item","selectedIndex","forEach","selectedItem","index","newSelectedItems","undefined","concat","current","removeAtIndex","clearSelection","Selection","_React$Component","_super","props","_this","stateToSet","callback","setState","state","internalSetState","handleSelectItem","handleRemoveItem","key","value","render","_this$props","children","renderProps","handleOnItemChange","handleClearSelection","Component","func","bool","array","isRequired","default","slice","splice"],"mappings":"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","sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\n * Copyright IBM Corp. 2016, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, { useCallback, useEffect, useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport isEqual from 'lodash.isequal';\n\nfunction callOnChangeHandler(_ref) {\n  var isControlled = _ref.isControlled,\n      isMounted = _ref.isMounted,\n      onChangeHandlerControlled = _ref.onChangeHandlerControlled,\n      onChangeHandlerUncontrolled = _ref.onChangeHandlerUncontrolled,\n      selectedItems = _ref.selectedItems;\n\n  if (isControlled) {\n    if (isMounted && onChangeHandlerControlled) {\n      onChangeHandlerControlled({\n        selectedItems: selectedItems\n      });\n    }\n  } else {\n    onChangeHandlerUncontrolled(selectedItems);\n  }\n}\n\nexport function useSelection(_ref2) {\n  var disabled = _ref2.disabled,\n      onChange = _ref2.onChange,\n      _ref2$initialSelected = _ref2.initialSelectedItems,\n      initialSelectedItems = _ref2$initialSelected === void 0 ? [] : _ref2$initialSelected,\n      controlledItems = _ref2.selectedItems;\n  var isMounted = useRef(false);\n  var savedOnChange = useRef(onChange);\n\n  var _useState = useState(initialSelectedItems),\n      _useState2 = _slicedToArray(_useState, 2),\n      uncontrolledItems = _useState2[0],\n      setUncontrolledItems = _useState2[1];\n\n  var isControlled = !!controlledItems;\n  var selectedItems = isControlled ? controlledItems : uncontrolledItems;\n  var onItemChange = useCallback(function (item) {\n    if (disabled) {\n      return;\n    }\n\n    var selectedIndex;\n    selectedItems.forEach(function (selectedItem, index) {\n      if (isEqual(selectedItem, item)) {\n        selectedIndex = index;\n      }\n    });\n    var newSelectedItems;\n\n    if (selectedIndex === undefined) {\n      newSelectedItems = selectedItems.concat(item);\n      callOnChangeHandler({\n        isControlled: isControlled,\n        isMounted: isMounted.current,\n        onChangeHandlerControlled: savedOnChange.current,\n        onChangeHandlerUncontrolled: setUncontrolledItems,\n        selectedItems: newSelectedItems\n      });\n      return;\n    }\n\n    newSelectedItems = removeAtIndex(selectedItems, selectedIndex);\n    callOnChangeHandler({\n      isControlled: isControlled,\n      isMounted: isMounted.current,\n      onChangeHandlerControlled: savedOnChange.current,\n      onChangeHandlerUncontrolled: setUncontrolledItems,\n      selectedItems: newSelectedItems\n    });\n  }, [disabled, isControlled, selectedItems]);\n  var clearSelection = useCallback(function () {\n    if (disabled) {\n      return;\n    }\n\n    callOnChangeHandler({\n      isControlled: isControlled,\n      isMounted: isMounted.current,\n      onChangeHandlerControlled: savedOnChange.current,\n      onChangeHandlerUncontrolled: setUncontrolledItems,\n      selectedItems: []\n    });\n  }, [disabled, isControlled]);\n  useEffect(function () {\n    savedOnChange.current = onChange;\n  }, [onChange]);\n  useEffect(function () {\n    if (isMounted.current && savedOnChange.current && !isControlled) {\n      savedOnChange.current({\n        selectedItems: selectedItems\n      });\n    }\n  }, [isControlled, selectedItems]);\n  useEffect(function () {\n    isMounted.current = true;\n    return function () {\n      isMounted.current = false;\n    };\n  }, []);\n  return {\n    selectedItems: selectedItems,\n    onItemChange: onItemChange,\n    clearSelection: clearSelection\n  };\n}\n\nvar Selection = /*#__PURE__*/function (_React$Component) {\n  _inherits(Selection, _React$Component);\n\n  var _super = _createSuper(Selection);\n\n  function Selection(props) {\n    var _this;\n\n    _classCallCheck(this, Selection);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"internalSetState\", function (stateToSet, callback) {\n      return _this.setState(stateToSet, function () {\n        if (callback) {\n          callback();\n        }\n\n        if (_this.props.onChange) {\n          _this.props.onChange(_this.state);\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClearSelection\", function () {\n      if (_this.props.disabled) {\n        return;\n      }\n\n      _this.internalSetState({\n        selectedItems: []\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSelectItem\", function (item) {\n      _this.internalSetState(function (state) {\n        return {\n          selectedItems: state.selectedItems.concat(item)\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRemoveItem\", function (index) {\n      _this.internalSetState(function (state) {\n        return {\n          selectedItems: removeAtIndex(state.selectedItems, index)\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnItemChange\", function (item) {\n      if (_this.props.disabled) {\n        return;\n      }\n\n      var selectedItems = _this.state.selectedItems;\n      var selectedIndex;\n      selectedItems.forEach(function (selectedItem, index) {\n        if (isEqual(selectedItem, item)) {\n          selectedIndex = index;\n        }\n      });\n\n      if (selectedIndex === undefined) {\n        _this.handleSelectItem(item);\n\n        return;\n      }\n\n      _this.handleRemoveItem(selectedIndex);\n    });\n\n    _this.state = {\n      selectedItems: props.initialSelectedItems\n    };\n    return _this;\n  }\n\n  _createClass(Selection, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          render = _this$props.render;\n      var selectedItems = this.state.selectedItems;\n      var renderProps = {\n        selectedItems: selectedItems,\n        onItemChange: this.handleOnItemChange,\n        clearSelection: this.handleClearSelection\n      };\n\n      if (render !== undefined) {\n        return render(renderProps);\n      }\n\n      if (children !== undefined) {\n        return children(renderProps);\n      }\n\n      return null;\n    }\n  }]);\n\n  return Selection;\n}(React.Component); // Generic utility for safely removing an element at a given index from an\n// array.\n\n\n_defineProperty(Selection, \"propTypes\", {\n  children: PropTypes.func,\n  disabled: PropTypes.bool,\n  initialSelectedItems: PropTypes.array.isRequired,\n  onChange: PropTypes.func,\n  render: PropTypes.func\n});\n\n_defineProperty(Selection, \"defaultProps\", {\n  initialSelectedItems: []\n});\n\nexport { Selection as default };\n\nvar removeAtIndex = function removeAtIndex(array, index) {\n  var result = array.slice();\n  result.splice(index, 1);\n  return result;\n};"]},"metadata":{},"sourceType":"module"}