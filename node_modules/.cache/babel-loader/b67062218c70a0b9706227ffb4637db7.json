{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\n\nvar _ModalBody$propTypes, _ComposedModal$propTy;\n\nvar _excluded = [\"className\", \"children\", \"hasForm\", \"hasScrollingContent\"],\n    _excluded2 = [\"aria-labelledby\", \"aria-label\", \"children\", \"className\", \"containerClassName\", \"danger\", \"onClose\", \"onKeyDown\", \"open\", \"preventCloseOnClickOutside\", \"selectorPrimaryFocus\", \"selectorsFloatingMenus\", \"size\"];\nimport React, { useRef, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { ModalHeader } from './ModalHeader';\nimport { ModalFooter } from '../ComposedModal';\nimport cx from 'classnames';\nimport toggleClass from '../../../tools/toggleClass';\nimport requiredIfGivenPropIsTruthy from '../../../prop-types/requiredIfGivenPropIsTruthy';\nimport wrapFocus from '../../../internal/wrapFocus';\nimport { usePrefix } from '../../../internal/usePrefix';\nexport var ModalBody = /*#__PURE__*/React.forwardRef(function ModalBody(_ref, ref) {\n  var _cx;\n\n  var customClassName = _ref.className,\n      children = _ref.children,\n      hasForm = _ref.hasForm,\n      hasScrollingContent = _ref.hasScrollingContent,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var prefix = usePrefix();\n  var contentClass = cx((_cx = {}, _defineProperty(_cx, \"\".concat(prefix, \"--modal-content\"), true), _defineProperty(_cx, \"\".concat(prefix, \"--modal-content--with-form\"), hasForm), _defineProperty(_cx, \"\".concat(prefix, \"--modal-scroll-content\"), hasScrollingContent), _defineProperty(_cx, customClassName, customClassName), _cx));\n  var hasScrollingContentProps = hasScrollingContent ? {\n    tabIndex: 0,\n    role: 'region'\n  } : {};\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: contentClass\n  }, hasScrollingContentProps, rest, {\n    ref: ref\n  }), children), hasScrollingContent && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefix, \"--modal-content--overflow-indicator\")\n  }));\n});\nModalBody.propTypes = (_ModalBody$propTypes = {}, _defineProperty(_ModalBody$propTypes, 'aria-label', requiredIfGivenPropIsTruthy('hasScrollingContent', PropTypes.string)), _defineProperty(_ModalBody$propTypes, \"children\", PropTypes.node), _defineProperty(_ModalBody$propTypes, \"className\", PropTypes.string), _defineProperty(_ModalBody$propTypes, \"hasForm\", PropTypes.bool), _defineProperty(_ModalBody$propTypes, \"hasScrollingContent\", PropTypes.bool), _ModalBody$propTypes);\nvar ComposedModal = /*#__PURE__*/React.forwardRef(function ComposedModal(_ref2, ref) {\n  var _cx2, _cx3;\n\n  var ariaLabelledBy = _ref2['aria-labelledby'],\n      ariaLabel = _ref2['aria-label'],\n      children = _ref2.children,\n      customClassName = _ref2.className,\n      containerClassName = _ref2.containerClassName,\n      danger = _ref2.danger,\n      onClose = _ref2.onClose,\n      onKeyDown = _ref2.onKeyDown,\n      open = _ref2.open,\n      preventCloseOnClickOutside = _ref2.preventCloseOnClickOutside,\n      selectorPrimaryFocus = _ref2.selectorPrimaryFocus,\n      selectorsFloatingMenus = _ref2.selectorsFloatingMenus,\n      size = _ref2.size,\n      rest = _objectWithoutProperties(_ref2, _excluded2);\n\n  var prefix = usePrefix();\n\n  var _useState = useState(open),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setisOpen = _useState2[1];\n\n  var _useState3 = useState(open),\n      _useState4 = _slicedToArray(_useState3, 2),\n      prevOpen = _useState4[0],\n      setPrevOpen = _useState4[1];\n\n  var innerModal = useRef();\n  var button = useRef();\n  var startSentinel = useRef();\n  var endSentinel = useRef();\n\n  if (open !== prevOpen) {\n    setisOpen(open);\n    setPrevOpen(open);\n  }\n\n  function handleKeyDown(evt) {\n    // Esc key\n    if (evt.which === 27) {\n      closeModal(evt);\n    }\n\n    onKeyDown(evt);\n  }\n\n  function handleClick(evt) {\n    if (!innerModal.current.contains(evt.target) && preventCloseOnClickOutside) {\n      return;\n    }\n\n    if (innerModal.current && !innerModal.current.contains(evt.target)) {\n      closeModal(evt);\n    }\n  }\n\n  function handleBlur(_ref3) {\n    var oldActiveNode = _ref3.target,\n        currentActiveNode = _ref3.relatedTarget;\n\n    if (open && currentActiveNode && oldActiveNode) {\n      var bodyNode = innerModal.current;\n      var startSentinelNode = startSentinel.current;\n      var endSentinelNode = endSentinel.current;\n      wrapFocus({\n        bodyNode: bodyNode,\n        startSentinelNode: startSentinelNode,\n        endSentinelNode: endSentinelNode,\n        currentActiveNode: currentActiveNode,\n        oldActiveNode: oldActiveNode,\n        selectorsFloatingMenus: selectorsFloatingMenus\n      });\n    }\n  }\n\n  function closeModal(evt) {\n    if (!onClose || onClose(evt) !== false) {\n      setisOpen(false);\n    }\n  }\n\n  var modalClass = cx((_cx2 = {}, _defineProperty(_cx2, \"\".concat(prefix, \"--modal\"), true), _defineProperty(_cx2, 'is-visible', isOpen), _defineProperty(_cx2, customClassName, customClassName), _defineProperty(_cx2, \"\".concat(prefix, \"--modal--danger\"), danger), _cx2));\n  var containerClass = cx((_cx3 = {}, _defineProperty(_cx3, \"\".concat(prefix, \"--modal-container\"), true), _defineProperty(_cx3, \"\".concat(prefix, \"--modal-container--\").concat(size), size), _defineProperty(_cx3, containerClassName, containerClassName), _cx3)); // Generate aria-label based on Modal Header label if one is not provided (L253)\n\n  var generatedAriaLabel;\n  var childrenWithProps = React.Children.toArray(children).map(function (child) {\n    switch (child.type) {\n      case /*#__PURE__*/React.createElement(ModalHeader).type:\n        generatedAriaLabel = child.props.label;\n        return /*#__PURE__*/React.cloneElement(child, {\n          closeModal: closeModal\n        });\n\n      case /*#__PURE__*/React.createElement(ModalFooter).type:\n        return /*#__PURE__*/React.cloneElement(child, {\n          closeModal: closeModal,\n          inputref: button\n        });\n\n      default:\n        return child;\n    }\n  });\n  useEffect(function () {\n    if (prevOpen !== isOpen) {\n      toggleClass(document.body, \"\".concat(prefix, \"--body--with-modal-open\"), isOpen);\n    }\n  });\n  useEffect(function () {\n    return function () {\n      return toggleClass(document.body, \"\".concat(prefix, \"--body--with-modal-open\"), false);\n    };\n  });\n  useEffect(function () {\n    toggleClass(document.body, \"\".concat(prefix, \"--body--with-modal-open\"), open);\n  }, [open, prefix]);\n  useEffect(function () {\n    var focusButton = function focusButton(focusContainerElement) {\n      if (focusContainerElement) {\n        var primaryFocusElement = focusContainerElement.querySelector(selectorPrimaryFocus);\n\n        if (primaryFocusElement) {\n          primaryFocusElement.focus();\n          return;\n        }\n\n        if (button.current) {\n          button.current.focus();\n        }\n      }\n    };\n\n    if (!open) {\n      return;\n    }\n\n    if (innerModal.current) {\n      focusButton(innerModal.current);\n    }\n  }, [open, selectorPrimaryFocus]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, rest, {\n    role: \"presentation\",\n    ref: ref,\n    onBlur: handleBlur,\n    onClick: handleClick,\n    onKeyDown: handleKeyDown,\n    className: modalClass\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    ref: startSentinel,\n    tabIndex: \"0\",\n    role: \"link\",\n    className: \"\".concat(prefix, \"--visually-hidden\")\n  }, \"Focus sentinel\"), /*#__PURE__*/React.createElement(\"div\", {\n    ref: innerModal,\n    className: containerClass,\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    \"aria-label\": ariaLabel ? ariaLabel : generatedAriaLabel,\n    \"aria-labelledby\": ariaLabelledBy\n  }, childrenWithProps), /*#__PURE__*/React.createElement(\"span\", {\n    ref: endSentinel,\n    tabIndex: \"0\",\n    role: \"link\",\n    className: \"\".concat(prefix, \"--visually-hidden\")\n  }, \"Focus sentinel\"));\n});\nComposedModal.propTypes = (_ComposedModal$propTy = {}, _defineProperty(_ComposedModal$propTy, 'aria-label', PropTypes.string), _defineProperty(_ComposedModal$propTy, 'aria-labelledby', PropTypes.string), _defineProperty(_ComposedModal$propTy, \"children\", PropTypes.node), _defineProperty(_ComposedModal$propTy, \"className\", PropTypes.string), _defineProperty(_ComposedModal$propTy, \"containerClassName\", PropTypes.string), _defineProperty(_ComposedModal$propTy, \"danger\", PropTypes.bool), _defineProperty(_ComposedModal$propTy, \"onClose\", PropTypes.func), _defineProperty(_ComposedModal$propTy, \"onKeyDown\", PropTypes.func), _defineProperty(_ComposedModal$propTy, \"open\", PropTypes.bool), _defineProperty(_ComposedModal$propTy, \"preventCloseOnClickOutside\", PropTypes.bool), _defineProperty(_ComposedModal$propTy, \"selectorPrimaryFocus\", PropTypes.string), _defineProperty(_ComposedModal$propTy, \"selectorsFloatingMenus\", PropTypes.string), _defineProperty(_ComposedModal$propTy, \"size\", PropTypes.oneOf(['xs', 'sm', 'md', 'lg'])), _ComposedModal$propTy);\nComposedModal.defaultProps = {\n  onKeyDown: function onKeyDown() {},\n  selectorPrimaryFocus: '[data-modal-primary-focus]'\n};\nexport default ComposedModal;","map":{"version":3,"sources":["/Users/henriquefelixcastro/Downloads/Educathon 2022/educathon-2022-website/node_modules/carbon-components-react/es/components/ComposedModal/next/ComposedModal.js"],"names":["_slicedToArray","_extends","_defineProperty","_objectWithoutProperties","_ModalBody$propTypes","_ComposedModal$propTy","_excluded","_excluded2","React","useRef","useEffect","useState","PropTypes","ModalHeader","ModalFooter","cx","toggleClass","requiredIfGivenPropIsTruthy","wrapFocus","usePrefix","ModalBody","forwardRef","_ref","ref","_cx","customClassName","className","children","hasForm","hasScrollingContent","rest","prefix","contentClass","concat","hasScrollingContentProps","tabIndex","role","createElement","Fragment","propTypes","string","node","bool","ComposedModal","_ref2","_cx2","_cx3","ariaLabelledBy","ariaLabel","containerClassName","danger","onClose","onKeyDown","open","preventCloseOnClickOutside","selectorPrimaryFocus","selectorsFloatingMenus","size","_useState","_useState2","isOpen","setisOpen","_useState3","_useState4","prevOpen","setPrevOpen","innerModal","button","startSentinel","endSentinel","handleKeyDown","evt","which","closeModal","handleClick","current","contains","target","handleBlur","_ref3","oldActiveNode","currentActiveNode","relatedTarget","bodyNode","startSentinelNode","endSentinelNode","modalClass","containerClass","generatedAriaLabel","childrenWithProps","Children","toArray","map","child","type","props","label","cloneElement","inputref","document","body","focusButton","focusContainerElement","primaryFocusElement","querySelector","focus","onBlur","onClick","func","oneOf","defaultProps"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\n\nvar _ModalBody$propTypes, _ComposedModal$propTy;\n\nvar _excluded = [\"className\", \"children\", \"hasForm\", \"hasScrollingContent\"],\n    _excluded2 = [\"aria-labelledby\", \"aria-label\", \"children\", \"className\", \"containerClassName\", \"danger\", \"onClose\", \"onKeyDown\", \"open\", \"preventCloseOnClickOutside\", \"selectorPrimaryFocus\", \"selectorsFloatingMenus\", \"size\"];\nimport React, { useRef, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { ModalHeader } from './ModalHeader';\nimport { ModalFooter } from '../ComposedModal';\nimport cx from 'classnames';\nimport toggleClass from '../../../tools/toggleClass';\nimport requiredIfGivenPropIsTruthy from '../../../prop-types/requiredIfGivenPropIsTruthy';\nimport wrapFocus from '../../../internal/wrapFocus';\nimport { usePrefix } from '../../../internal/usePrefix';\nexport var ModalBody = /*#__PURE__*/React.forwardRef(function ModalBody(_ref, ref) {\n  var _cx;\n\n  var customClassName = _ref.className,\n      children = _ref.children,\n      hasForm = _ref.hasForm,\n      hasScrollingContent = _ref.hasScrollingContent,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var prefix = usePrefix();\n  var contentClass = cx((_cx = {}, _defineProperty(_cx, \"\".concat(prefix, \"--modal-content\"), true), _defineProperty(_cx, \"\".concat(prefix, \"--modal-content--with-form\"), hasForm), _defineProperty(_cx, \"\".concat(prefix, \"--modal-scroll-content\"), hasScrollingContent), _defineProperty(_cx, customClassName, customClassName), _cx));\n  var hasScrollingContentProps = hasScrollingContent ? {\n    tabIndex: 0,\n    role: 'region'\n  } : {};\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: contentClass\n  }, hasScrollingContentProps, rest, {\n    ref: ref\n  }), children), hasScrollingContent && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefix, \"--modal-content--overflow-indicator\")\n  }));\n});\nModalBody.propTypes = (_ModalBody$propTypes = {}, _defineProperty(_ModalBody$propTypes, 'aria-label', requiredIfGivenPropIsTruthy('hasScrollingContent', PropTypes.string)), _defineProperty(_ModalBody$propTypes, \"children\", PropTypes.node), _defineProperty(_ModalBody$propTypes, \"className\", PropTypes.string), _defineProperty(_ModalBody$propTypes, \"hasForm\", PropTypes.bool), _defineProperty(_ModalBody$propTypes, \"hasScrollingContent\", PropTypes.bool), _ModalBody$propTypes);\nvar ComposedModal = /*#__PURE__*/React.forwardRef(function ComposedModal(_ref2, ref) {\n  var _cx2, _cx3;\n\n  var ariaLabelledBy = _ref2['aria-labelledby'],\n      ariaLabel = _ref2['aria-label'],\n      children = _ref2.children,\n      customClassName = _ref2.className,\n      containerClassName = _ref2.containerClassName,\n      danger = _ref2.danger,\n      onClose = _ref2.onClose,\n      onKeyDown = _ref2.onKeyDown,\n      open = _ref2.open,\n      preventCloseOnClickOutside = _ref2.preventCloseOnClickOutside,\n      selectorPrimaryFocus = _ref2.selectorPrimaryFocus,\n      selectorsFloatingMenus = _ref2.selectorsFloatingMenus,\n      size = _ref2.size,\n      rest = _objectWithoutProperties(_ref2, _excluded2);\n\n  var prefix = usePrefix();\n\n  var _useState = useState(open),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setisOpen = _useState2[1];\n\n  var _useState3 = useState(open),\n      _useState4 = _slicedToArray(_useState3, 2),\n      prevOpen = _useState4[0],\n      setPrevOpen = _useState4[1];\n\n  var innerModal = useRef();\n  var button = useRef();\n  var startSentinel = useRef();\n  var endSentinel = useRef();\n\n  if (open !== prevOpen) {\n    setisOpen(open);\n    setPrevOpen(open);\n  }\n\n  function handleKeyDown(evt) {\n    // Esc key\n    if (evt.which === 27) {\n      closeModal(evt);\n    }\n\n    onKeyDown(evt);\n  }\n\n  function handleClick(evt) {\n    if (!innerModal.current.contains(evt.target) && preventCloseOnClickOutside) {\n      return;\n    }\n\n    if (innerModal.current && !innerModal.current.contains(evt.target)) {\n      closeModal(evt);\n    }\n  }\n\n  function handleBlur(_ref3) {\n    var oldActiveNode = _ref3.target,\n        currentActiveNode = _ref3.relatedTarget;\n\n    if (open && currentActiveNode && oldActiveNode) {\n      var bodyNode = innerModal.current;\n      var startSentinelNode = startSentinel.current;\n      var endSentinelNode = endSentinel.current;\n      wrapFocus({\n        bodyNode: bodyNode,\n        startSentinelNode: startSentinelNode,\n        endSentinelNode: endSentinelNode,\n        currentActiveNode: currentActiveNode,\n        oldActiveNode: oldActiveNode,\n        selectorsFloatingMenus: selectorsFloatingMenus\n      });\n    }\n  }\n\n  function closeModal(evt) {\n    if (!onClose || onClose(evt) !== false) {\n      setisOpen(false);\n    }\n  }\n\n  var modalClass = cx((_cx2 = {}, _defineProperty(_cx2, \"\".concat(prefix, \"--modal\"), true), _defineProperty(_cx2, 'is-visible', isOpen), _defineProperty(_cx2, customClassName, customClassName), _defineProperty(_cx2, \"\".concat(prefix, \"--modal--danger\"), danger), _cx2));\n  var containerClass = cx((_cx3 = {}, _defineProperty(_cx3, \"\".concat(prefix, \"--modal-container\"), true), _defineProperty(_cx3, \"\".concat(prefix, \"--modal-container--\").concat(size), size), _defineProperty(_cx3, containerClassName, containerClassName), _cx3)); // Generate aria-label based on Modal Header label if one is not provided (L253)\n\n  var generatedAriaLabel;\n  var childrenWithProps = React.Children.toArray(children).map(function (child) {\n    switch (child.type) {\n      case /*#__PURE__*/React.createElement(ModalHeader).type:\n        generatedAriaLabel = child.props.label;\n        return /*#__PURE__*/React.cloneElement(child, {\n          closeModal: closeModal\n        });\n\n      case /*#__PURE__*/React.createElement(ModalFooter).type:\n        return /*#__PURE__*/React.cloneElement(child, {\n          closeModal: closeModal,\n          inputref: button\n        });\n\n      default:\n        return child;\n    }\n  });\n  useEffect(function () {\n    if (prevOpen !== isOpen) {\n      toggleClass(document.body, \"\".concat(prefix, \"--body--with-modal-open\"), isOpen);\n    }\n  });\n  useEffect(function () {\n    return function () {\n      return toggleClass(document.body, \"\".concat(prefix, \"--body--with-modal-open\"), false);\n    };\n  });\n  useEffect(function () {\n    toggleClass(document.body, \"\".concat(prefix, \"--body--with-modal-open\"), open);\n  }, [open, prefix]);\n  useEffect(function () {\n    var focusButton = function focusButton(focusContainerElement) {\n      if (focusContainerElement) {\n        var primaryFocusElement = focusContainerElement.querySelector(selectorPrimaryFocus);\n\n        if (primaryFocusElement) {\n          primaryFocusElement.focus();\n          return;\n        }\n\n        if (button.current) {\n          button.current.focus();\n        }\n      }\n    };\n\n    if (!open) {\n      return;\n    }\n\n    if (innerModal.current) {\n      focusButton(innerModal.current);\n    }\n  }, [open, selectorPrimaryFocus]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, rest, {\n    role: \"presentation\",\n    ref: ref,\n    onBlur: handleBlur,\n    onClick: handleClick,\n    onKeyDown: handleKeyDown,\n    className: modalClass\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    ref: startSentinel,\n    tabIndex: \"0\",\n    role: \"link\",\n    className: \"\".concat(prefix, \"--visually-hidden\")\n  }, \"Focus sentinel\"), /*#__PURE__*/React.createElement(\"div\", {\n    ref: innerModal,\n    className: containerClass,\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    \"aria-label\": ariaLabel ? ariaLabel : generatedAriaLabel,\n    \"aria-labelledby\": ariaLabelledBy\n  }, childrenWithProps), /*#__PURE__*/React.createElement(\"span\", {\n    ref: endSentinel,\n    tabIndex: \"0\",\n    role: \"link\",\n    className: \"\".concat(prefix, \"--visually-hidden\")\n  }, \"Focus sentinel\"));\n});\nComposedModal.propTypes = (_ComposedModal$propTy = {}, _defineProperty(_ComposedModal$propTy, 'aria-label', PropTypes.string), _defineProperty(_ComposedModal$propTy, 'aria-labelledby', PropTypes.string), _defineProperty(_ComposedModal$propTy, \"children\", PropTypes.node), _defineProperty(_ComposedModal$propTy, \"className\", PropTypes.string), _defineProperty(_ComposedModal$propTy, \"containerClassName\", PropTypes.string), _defineProperty(_ComposedModal$propTy, \"danger\", PropTypes.bool), _defineProperty(_ComposedModal$propTy, \"onClose\", PropTypes.func), _defineProperty(_ComposedModal$propTy, \"onKeyDown\", PropTypes.func), _defineProperty(_ComposedModal$propTy, \"open\", PropTypes.bool), _defineProperty(_ComposedModal$propTy, \"preventCloseOnClickOutside\", PropTypes.bool), _defineProperty(_ComposedModal$propTy, \"selectorPrimaryFocus\", PropTypes.string), _defineProperty(_ComposedModal$propTy, \"selectorsFloatingMenus\", PropTypes.string), _defineProperty(_ComposedModal$propTy, \"size\", PropTypes.oneOf(['xs', 'sm', 'md', 'lg'])), _ComposedModal$propTy);\nComposedModal.defaultProps = {\n  onKeyDown: function onKeyDown() {},\n  selectorPrimaryFocus: '[data-modal-primary-focus]'\n};\nexport default ComposedModal;"]},"metadata":{},"sourceType":"module"}