{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n/**\n * Copyright IBM Corp. 2016, 2022\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport ComboBox from '../../internal/vendor/carbon-components-react/components/ComboBox/ComboBox';\nimport ddsSettings from '../../internal/vendor/@carbon/ibmdotcom-utilities/utilities/settings/settings';\nimport PropTypes from 'prop-types';\nimport root from 'window-or-global';\nimport Select from '../../internal/vendor/carbon-components-react/components/Select/Select';\nimport SelectItem from '../../internal/vendor/carbon-components-react/components/SelectItem/SelectItem';\nimport settings from 'carbon-components/es/globals/js/settings';\nvar stablePrefix = ddsSettings.stablePrefix;\nvar prefix = settings.prefix;\n/**\n * Footer language selector component.\n */\n\nvar LanguageSelector = function LanguageSelector(_ref) {\n  var items = _ref.items,\n      initialSelectedItem = _ref.initialSelectedItem,\n      callback = _ref.callback,\n      labelText = _ref.labelText;\n\n  var _useClickOutside = useClickOutside(),\n      ref = _useClickOutside.ref;\n\n  var _useState = useState(initialSelectedItem || items[0]),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedItem = _useState2[0],\n      setSelectedItem = _useState2[1];\n\n  var _useState3 = useState(initialSelectedItem || items[0]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      lastSelectedItem = _useState4[0],\n      setLastSelectedItem = _useState4[1];\n  /**\n   * Sets the selected item and then runs the callback function\n   *\n   * @param {object} selectedItem Selected item object\n   * @private\n   */\n\n\n  function _setSelectedItem(selectedItem) {\n    var item = selectedItem !== null ? selectedItem : '';\n    setSelectedItem(item);\n    callback(item);\n\n    if (selectedItem !== null) {\n      setLastSelectedItem(selectedItem);\n    }\n  }\n  /**\n   * Identifies the click outisde the language selector and resets its value to the previously selected\n   */\n\n\n  function useClickOutside() {\n    var ref = useRef(null);\n\n    var handleClickOutside = function handleClickOutside(event) {\n      if (ref.current && !ref.current.contains(event.target)) {\n        setSelectedItem(lastSelectedItem);\n      }\n    };\n\n    useEffect(function () {\n      root.document.addEventListener('click', handleClickOutside, true);\n      return function () {\n        root.document.removeEventListener('click', handleClickOutside, true);\n      };\n    });\n    return {\n      ref: ref\n    };\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefix, \"--language-selector__container\"),\n    ref: ref\n  }, /*#__PURE__*/React.createElement(ComboBox, {\n    id: \"dds-language-selector\",\n    \"data-autoid\": \"\".concat(stablePrefix, \"--language-selector\"),\n    className: \"\".concat(prefix, \"--language-selector\"),\n    onChange: function onChange(_ref2) {\n      var selectedItem = _ref2.selectedItem;\n      return _setSelectedItem(selectedItem);\n    },\n    items: items,\n    itemToString: function itemToString(item) {\n      return item ? item.text : '';\n    },\n    initialSelectedItem: initialSelectedItem,\n    selectedItem: selectedItem,\n    direction: \"top\",\n    placeholder: labelText,\n    titleText: labelText,\n    size: \"xl\"\n  }), /*#__PURE__*/React.createElement(Select, {\n    defaultValue: selectedItem.id,\n    \"data-autoid\": \"\".concat(stablePrefix, \"--language-selector__select\"),\n    id: \"\".concat(prefix, \"--language-selector\"),\n    className: \"\".concat(prefix, \"--language-selector\"),\n    onChange: function onChange(evt) {\n      return _setSelectedItem(evt);\n    },\n    text: selectedItem.text,\n    labelText: labelText,\n    \"aria-label\": labelText\n  }, renderSelectItems(items)));\n};\n/**\n * Iterate through and render a list of select items\n *\n * @param {Array} items A list of items to be rendered\n * @returns {object} JSX object\n */\n\n\nfunction renderSelectItems(items) {\n  var selectItems = [];\n  items.map(function (item, index) {\n    selectItems.push( /*#__PURE__*/React.createElement(SelectItem, {\n      value: item.id,\n      text: item.text,\n      key: index\n    }));\n  });\n  return selectItems;\n}\n\nLanguageSelector.propTypes = {\n  /**\n   * Array of items to pass into Select.\n   */\n  items: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string,\n    text: PropTypes.string\n  })),\n\n  /**\n   * Initial selected item for the Select.\n   */\n  initialSelectedItem: PropTypes.shape({\n    id: PropTypes.string,\n    text: PropTypes.string\n  }),\n\n  /**\n   * Callback function when an item is selected.\n   */\n  callback: PropTypes.func,\n\n  /**\n   * Label text\n   */\n  labelText: PropTypes.string\n};\nLanguageSelector.defaultProps = {\n  items: null,\n  initialSelectedItem: null,\n  callback: function callback() {},\n  labelText: 'Choose a language'\n};\nexport default LanguageSelector;","map":{"version":3,"sources":["/Users/henriquefelixcastro/Downloads/Educathon 2022/educathon-2022-website/node_modules/@carbon/ibmdotcom-react/es/components/Footer/LanguageSelector.js"],"names":["_slicedToArray","React","useState","useEffect","useRef","ComboBox","ddsSettings","PropTypes","root","Select","SelectItem","settings","stablePrefix","prefix","LanguageSelector","_ref","items","initialSelectedItem","callback","labelText","_useClickOutside","useClickOutside","ref","_useState","_useState2","selectedItem","setSelectedItem","_useState3","_useState4","lastSelectedItem","setLastSelectedItem","_setSelectedItem","item","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","createElement","className","concat","id","onChange","_ref2","itemToString","text","direction","placeholder","titleText","size","defaultValue","evt","renderSelectItems","selectItems","map","index","push","value","key","propTypes","arrayOf","shape","string","func","defaultProps"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\n/**\n * Copyright IBM Corp. 2016, 2022\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, { useState, useEffect, useRef } from 'react';\nimport ComboBox from '../../internal/vendor/carbon-components-react/components/ComboBox/ComboBox';\nimport ddsSettings from '../../internal/vendor/@carbon/ibmdotcom-utilities/utilities/settings/settings';\nimport PropTypes from 'prop-types';\nimport root from 'window-or-global';\nimport Select from '../../internal/vendor/carbon-components-react/components/Select/Select';\nimport SelectItem from '../../internal/vendor/carbon-components-react/components/SelectItem/SelectItem';\nimport settings from 'carbon-components/es/globals/js/settings';\nvar stablePrefix = ddsSettings.stablePrefix;\nvar prefix = settings.prefix;\n/**\n * Footer language selector component.\n */\n\nvar LanguageSelector = function LanguageSelector(_ref) {\n  var items = _ref.items,\n      initialSelectedItem = _ref.initialSelectedItem,\n      callback = _ref.callback,\n      labelText = _ref.labelText;\n\n  var _useClickOutside = useClickOutside(),\n      ref = _useClickOutside.ref;\n\n  var _useState = useState(initialSelectedItem || items[0]),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedItem = _useState2[0],\n      setSelectedItem = _useState2[1];\n\n  var _useState3 = useState(initialSelectedItem || items[0]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      lastSelectedItem = _useState4[0],\n      setLastSelectedItem = _useState4[1];\n  /**\n   * Sets the selected item and then runs the callback function\n   *\n   * @param {object} selectedItem Selected item object\n   * @private\n   */\n\n\n  function _setSelectedItem(selectedItem) {\n    var item = selectedItem !== null ? selectedItem : '';\n    setSelectedItem(item);\n    callback(item);\n\n    if (selectedItem !== null) {\n      setLastSelectedItem(selectedItem);\n    }\n  }\n  /**\n   * Identifies the click outisde the language selector and resets its value to the previously selected\n   */\n\n\n  function useClickOutside() {\n    var ref = useRef(null);\n\n    var handleClickOutside = function handleClickOutside(event) {\n      if (ref.current && !ref.current.contains(event.target)) {\n        setSelectedItem(lastSelectedItem);\n      }\n    };\n\n    useEffect(function () {\n      root.document.addEventListener('click', handleClickOutside, true);\n      return function () {\n        root.document.removeEventListener('click', handleClickOutside, true);\n      };\n    });\n    return {\n      ref: ref\n    };\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefix, \"--language-selector__container\"),\n    ref: ref\n  }, /*#__PURE__*/React.createElement(ComboBox, {\n    id: \"dds-language-selector\",\n    \"data-autoid\": \"\".concat(stablePrefix, \"--language-selector\"),\n    className: \"\".concat(prefix, \"--language-selector\"),\n    onChange: function onChange(_ref2) {\n      var selectedItem = _ref2.selectedItem;\n      return _setSelectedItem(selectedItem);\n    },\n    items: items,\n    itemToString: function itemToString(item) {\n      return item ? item.text : '';\n    },\n    initialSelectedItem: initialSelectedItem,\n    selectedItem: selectedItem,\n    direction: \"top\",\n    placeholder: labelText,\n    titleText: labelText,\n    size: \"xl\"\n  }), /*#__PURE__*/React.createElement(Select, {\n    defaultValue: selectedItem.id,\n    \"data-autoid\": \"\".concat(stablePrefix, \"--language-selector__select\"),\n    id: \"\".concat(prefix, \"--language-selector\"),\n    className: \"\".concat(prefix, \"--language-selector\"),\n    onChange: function onChange(evt) {\n      return _setSelectedItem(evt);\n    },\n    text: selectedItem.text,\n    labelText: labelText,\n    \"aria-label\": labelText\n  }, renderSelectItems(items)));\n};\n/**\n * Iterate through and render a list of select items\n *\n * @param {Array} items A list of items to be rendered\n * @returns {object} JSX object\n */\n\n\nfunction renderSelectItems(items) {\n  var selectItems = [];\n  items.map(function (item, index) {\n    selectItems.push( /*#__PURE__*/React.createElement(SelectItem, {\n      value: item.id,\n      text: item.text,\n      key: index\n    }));\n  });\n  return selectItems;\n}\n\nLanguageSelector.propTypes = {\n  /**\n   * Array of items to pass into Select.\n   */\n  items: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string,\n    text: PropTypes.string\n  })),\n\n  /**\n   * Initial selected item for the Select.\n   */\n  initialSelectedItem: PropTypes.shape({\n    id: PropTypes.string,\n    text: PropTypes.string\n  }),\n\n  /**\n   * Callback function when an item is selected.\n   */\n  callback: PropTypes.func,\n\n  /**\n   * Label text\n   */\n  labelText: PropTypes.string\n};\nLanguageSelector.defaultProps = {\n  items: null,\n  initialSelectedItem: null,\n  callback: function callback() {},\n  labelText: 'Choose a language'\n};\nexport default LanguageSelector;"]},"metadata":{},"sourceType":"module"}