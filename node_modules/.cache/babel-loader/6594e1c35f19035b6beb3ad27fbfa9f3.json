{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n/**\n * Copyright IBM Corp. 2021, 2022\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport axios from 'axios';\nimport { DDOAPI } from '../DDO';\nimport root from 'window-or-global';\n\nvar CloudAccountAuthAPI = /*#__PURE__*/function () {\n  function CloudAccountAuthAPI() {\n    _classCallCheck(this, CloudAccountAuthAPI);\n  }\n\n  _createClass(CloudAccountAuthAPI, null, [{\n    key: \"checkPersonalization\",\n\n    /**\n     * retrieve the cloud login status via window object status\n     * gets the full digitalData (DDO) object.\n     *\n     * @example\n     * import { cloudAccountAuthentication } from '@carbon/ibmdotcom-utilities';\n     *\n     * const status = cloudAccountAuthentication.checkPersonalization();\n     *\n     * @returns {string} string determining login status\n     */\n    value: function () {\n      var _checkPersonalization = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return DDOAPI.isReady().then(function () {\n                  var _root$digitalData, _root$digitalData$use, _root$digitalData$use2;\n\n                  var status = (_root$digitalData = root.digitalData) === null || _root$digitalData === void 0 ? void 0 : (_root$digitalData$use = _root$digitalData.user) === null || _root$digitalData$use === void 0 ? void 0 : (_root$digitalData$use2 = _root$digitalData$use.segment) === null || _root$digitalData$use2 === void 0 ? void 0 : _root$digitalData$use2.isCloudLoggedOn;\n                  return {\n                    user: status === true ? 'authenticated' : 'anonymous'\n                  };\n                });\n\n              case 2:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function checkPersonalization() {\n        return _checkPersonalization.apply(this, arguments);\n      }\n\n      return checkPersonalization;\n    }()\n    /**\n     * retrieve the cloud login status via api\n     *\n     * @example\n     * import { cloudAccountAuthentication } from '@carbon/ibmdotcom-utilities';\n     *\n     * const status = cloudAccountAuthentication.checkAPI();\n     *\n     * @returns {string} string determining login status\n     */\n\n  }, {\n    key: \"checkAPI\",\n    value: function () {\n      var _checkAPI = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var cloudLogin;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get('/api/v6/selected-account?profile=true', {\n                  headers: {\n                    Accept: 'application/json'\n                  }\n                }).then(function (response) {\n                  return response.status === 200 ? 'authenticated' : 'anonymous';\n                }).catch(function (error) {\n                  console.error(error);\n                  return 'anonymous';\n                });\n\n              case 2:\n                cloudLogin = _context2.sent;\n                return _context2.abrupt(\"return\", {\n                  user: cloudLogin\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function checkAPI() {\n        return _checkAPI.apply(this, arguments);\n      }\n\n      return checkAPI;\n    }()\n  }]);\n\n  return CloudAccountAuthAPI;\n}();\n\nexport default CloudAccountAuthAPI;","map":{"version":3,"sources":["/Users/henriquefelixcastro/Downloads/Educathon 2022/educathon-2022-website/node_modules/@carbon/ibmdotcom-services/es/services/CloudAccountAuth/CloudAccountAuth.js"],"names":["_asyncToGenerator","_classCallCheck","_createClass","_regeneratorRuntime","axios","DDOAPI","root","CloudAccountAuthAPI","key","value","_checkPersonalization","mark","_callee","wrap","_callee$","_context","prev","next","isReady","then","_root$digitalData","_root$digitalData$use","_root$digitalData$use2","status","digitalData","user","segment","isCloudLoggedOn","abrupt","sent","stop","checkPersonalization","apply","arguments","_checkAPI","_callee2","cloudLogin","_callee2$","_context2","get","headers","Accept","response","catch","error","console","checkAPI"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,yCAA9B;AACA,OAAOC,eAAP,MAA4B,uCAA5B;AACA,OAAOC,YAAP,MAAyB,oCAAzB;AACA,OAAOC,mBAAP,MAAgC,4BAAhC;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;;AAEA,IAAIC,mBAAmB,GAAG,aAAa,YAAY;AACjD,WAASA,mBAAT,GAA+B;AAC7BN,IAAAA,eAAe,CAAC,IAAD,EAAOM,mBAAP,CAAf;AACD;;AAEDL,EAAAA,YAAY,CAACK,mBAAD,EAAsB,IAAtB,EAA4B,CAAC;AACvCC,IAAAA,GAAG,EAAE,sBADkC;;AAGvC;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIC,IAAAA,KAAK,EAAE,YAAY;AACjB,UAAIC,qBAAqB,GAAGV,iBAAiB,EAAE,aAAaG,mBAAmB,CAACQ,IAApB,CAAyB,SAASC,OAAT,GAAmB;AACtG,eAAOT,mBAAmB,CAACU,IAApB,CAAyB,SAASC,QAAT,CAAkBC,QAAlB,EAA4B;AAC1D,iBAAO,CAAP,EAAU;AACR,oBAAQA,QAAQ,CAACC,IAAT,GAAgBD,QAAQ,CAACE,IAAjC;AACE,mBAAK,CAAL;AACEF,gBAAAA,QAAQ,CAACE,IAAT,GAAgB,CAAhB;AACA,uBAAOZ,MAAM,CAACa,OAAP,GAAiBC,IAAjB,CAAsB,YAAY;AACvC,sBAAIC,iBAAJ,EAAuBC,qBAAvB,EAA8CC,sBAA9C;;AAEA,sBAAIC,MAAM,GAAG,CAACH,iBAAiB,GAAGd,IAAI,CAACkB,WAA1B,MAA2C,IAA3C,IAAmDJ,iBAAiB,KAAK,KAAK,CAA9E,GAAkF,KAAK,CAAvF,GAA2F,CAACC,qBAAqB,GAAGD,iBAAiB,CAACK,IAA3C,MAAqD,IAArD,IAA6DJ,qBAAqB,KAAK,KAAK,CAA5F,GAAgG,KAAK,CAArG,GAAyG,CAACC,sBAAsB,GAAGD,qBAAqB,CAACK,OAAhD,MAA6D,IAA7D,IAAqEJ,sBAAsB,KAAK,KAAK,CAArG,GAAyG,KAAK,CAA9G,GAAkHA,sBAAsB,CAACK,eAA1V;AACA,yBAAO;AACLF,oBAAAA,IAAI,EAAEF,MAAM,KAAK,IAAX,GAAkB,eAAlB,GAAoC;AADrC,mBAAP;AAGD,iBAPM,CAAP;;AASF,mBAAK,CAAL;AACE,uBAAOR,QAAQ,CAACa,MAAT,CAAgB,QAAhB,EAA0Bb,QAAQ,CAACc,IAAnC,CAAP;;AAEF,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAOd,QAAQ,CAACe,IAAT,EAAP;AAjBJ;AAmBD;AACF,SAtBM,EAsBJlB,OAtBI,CAAP;AAuBD,OAxB2D,CAAf,CAA7C;;AA0BA,eAASmB,oBAAT,GAAgC;AAC9B,eAAOrB,qBAAqB,CAACsB,KAAtB,CAA4B,IAA5B,EAAkCC,SAAlC,CAAP;AACD;;AAED,aAAOF,oBAAP;AACD,KAhCM;AAiCP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAxD2C,GAAD,EA0DrC;AACDvB,IAAAA,GAAG,EAAE,UADJ;AAEDC,IAAAA,KAAK,EAAE,YAAY;AACjB,UAAIyB,SAAS,GAAGlC,iBAAiB,EAAE,aAAaG,mBAAmB,CAACQ,IAApB,CAAyB,SAASwB,QAAT,GAAoB;AAC3F,YAAIC,UAAJ;AACA,eAAOjC,mBAAmB,CAACU,IAApB,CAAyB,SAASwB,SAAT,CAAmBC,SAAnB,EAA8B;AAC5D,iBAAO,CAAP,EAAU;AACR,oBAAQA,SAAS,CAACtB,IAAV,GAAiBsB,SAAS,CAACrB,IAAnC;AACE,mBAAK,CAAL;AACEqB,gBAAAA,SAAS,CAACrB,IAAV,GAAiB,CAAjB;AACA,uBAAOb,KAAK,CAACmC,GAAN,CAAU,uCAAV,EAAmD;AACxDC,kBAAAA,OAAO,EAAE;AACPC,oBAAAA,MAAM,EAAE;AADD;AAD+C,iBAAnD,EAIJtB,IAJI,CAIC,UAAUuB,QAAV,EAAoB;AAC1B,yBAAOA,QAAQ,CAACnB,MAAT,KAAoB,GAApB,GAA0B,eAA1B,GAA4C,WAAnD;AACD,iBANM,EAMJoB,KANI,CAME,UAAUC,KAAV,EAAiB;AACxBC,kBAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACA,yBAAO,WAAP;AACD,iBATM,CAAP;;AAWF,mBAAK,CAAL;AACER,gBAAAA,UAAU,GAAGE,SAAS,CAACT,IAAvB;AACA,uBAAOS,SAAS,CAACV,MAAV,CAAiB,QAAjB,EAA2B;AAChCH,kBAAAA,IAAI,EAAEW;AAD0B,iBAA3B,CAAP;;AAIF,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAOE,SAAS,CAACR,IAAV,EAAP;AAtBJ;AAwBD;AACF,SA3BM,EA2BJK,QA3BI,CAAP;AA4BD,OA9B+C,CAAf,CAAjC;;AAgCA,eAASW,QAAT,GAAoB;AAClB,eAAOZ,SAAS,CAACF,KAAV,CAAgB,IAAhB,EAAsBC,SAAtB,CAAP;AACD;;AAED,aAAOa,QAAP;AACD,KAtCM;AAFN,GA1DqC,CAA5B,CAAZ;;AAqGA,SAAOvC,mBAAP;AACD,CA3GsC,EAAvC;;AA6GA,eAAeA,mBAAf","sourcesContent":["import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\n/**\n * Copyright IBM Corp. 2021, 2022\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport axios from 'axios';\nimport { DDOAPI } from '../DDO';\nimport root from 'window-or-global';\n\nvar CloudAccountAuthAPI = /*#__PURE__*/function () {\n  function CloudAccountAuthAPI() {\n    _classCallCheck(this, CloudAccountAuthAPI);\n  }\n\n  _createClass(CloudAccountAuthAPI, null, [{\n    key: \"checkPersonalization\",\n\n    /**\n     * retrieve the cloud login status via window object status\n     * gets the full digitalData (DDO) object.\n     *\n     * @example\n     * import { cloudAccountAuthentication } from '@carbon/ibmdotcom-utilities';\n     *\n     * const status = cloudAccountAuthentication.checkPersonalization();\n     *\n     * @returns {string} string determining login status\n     */\n    value: function () {\n      var _checkPersonalization = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return DDOAPI.isReady().then(function () {\n                  var _root$digitalData, _root$digitalData$use, _root$digitalData$use2;\n\n                  var status = (_root$digitalData = root.digitalData) === null || _root$digitalData === void 0 ? void 0 : (_root$digitalData$use = _root$digitalData.user) === null || _root$digitalData$use === void 0 ? void 0 : (_root$digitalData$use2 = _root$digitalData$use.segment) === null || _root$digitalData$use2 === void 0 ? void 0 : _root$digitalData$use2.isCloudLoggedOn;\n                  return {\n                    user: status === true ? 'authenticated' : 'anonymous'\n                  };\n                });\n\n              case 2:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function checkPersonalization() {\n        return _checkPersonalization.apply(this, arguments);\n      }\n\n      return checkPersonalization;\n    }()\n    /**\n     * retrieve the cloud login status via api\n     *\n     * @example\n     * import { cloudAccountAuthentication } from '@carbon/ibmdotcom-utilities';\n     *\n     * const status = cloudAccountAuthentication.checkAPI();\n     *\n     * @returns {string} string determining login status\n     */\n\n  }, {\n    key: \"checkAPI\",\n    value: function () {\n      var _checkAPI = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var cloudLogin;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get('/api/v6/selected-account?profile=true', {\n                  headers: {\n                    Accept: 'application/json'\n                  }\n                }).then(function (response) {\n                  return response.status === 200 ? 'authenticated' : 'anonymous';\n                }).catch(function (error) {\n                  console.error(error);\n                  return 'anonymous';\n                });\n\n              case 2:\n                cloudLogin = _context2.sent;\n                return _context2.abrupt(\"return\", {\n                  user: cloudLogin\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function checkAPI() {\n        return _checkAPI.apply(this, arguments);\n      }\n\n      return checkAPI;\n    }()\n  }]);\n\n  return CloudAccountAuthAPI;\n}();\n\nexport default CloudAccountAuthAPI;"]},"metadata":{},"sourceType":"module"}