{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n/**\n * Copyright IBM Corp. 2016, 2022\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport ddsSettings from '../../internal/vendor/@carbon/ibmdotcom-utilities/utilities/settings/settings';\nimport FooterLogo from './FooterLogo';\nimport FooterNav from './FooterNav';\nimport { globalInit } from '../../internal/vendor/@carbon/ibmdotcom-services/services/global/global';\nimport LanguageSelector from './LanguageSelector';\nimport LegalNav from './LegalNav';\nimport LocaleAPI from '../../internal/vendor/@carbon/ibmdotcom-services/services/Locale/Locale';\nimport LocaleButton from './LocaleButton';\nimport PropTypes from 'prop-types';\nimport settings from 'carbon-components/es/globals/js/settings';\nimport TranslationAPI from '../../internal/vendor/@carbon/ibmdotcom-services/services/Translation/Translation';\nvar stablePrefix = ddsSettings.stablePrefix;\nvar prefix = settings.prefix;\n/**\n * Footer component.\n */\n\nvar Footer = function Footer(_ref) {\n  var _classNames;\n\n  var type = _ref.type,\n      navigation = _ref.navigation,\n      langCode = _ref.langCode,\n      disableLocaleButton = _ref.disableLocaleButton,\n      languageOnly = _ref.languageOnly,\n      labelText = _ref.labelText,\n      languageItems = _ref.languageItems,\n      languageInitialItem = _ref.languageInitialItem,\n      languageCallback = _ref.languageCallback,\n      adjunctLinks = _ref.adjunctLinks;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      footerMenuData = _useState2[0],\n      setFooterMenuData = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      footerLegalData = _useState4[0],\n      setFooterLegalData = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      displayLang = _useState6[0],\n      setDisplayLang = _useState6[1];\n\n  useEffect(function () {\n    // initialize global execution calls\n    globalInit();\n  }, []);\n  useEffect(function () {\n    var stale = false;\n\n    if (!navigation) {\n      _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return TranslationAPI.getTranslation();\n\n              case 3:\n                response = _context.sent;\n\n                if (!stale) {\n                  setFooterMenuData(response.footerMenu);\n                  setFooterLegalData(response.footerThin);\n                }\n\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                console.error('Error populating footer data:', _context.t0);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 7]]);\n      }))();\n    }\n\n    return function () {\n      stale = true;\n    };\n  }, [navigation]);\n  useEffect(function () {\n    var stale = false;\n\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return LocaleAPI.getLangDisplay(langCode);\n\n            case 2:\n              response = _context2.sent;\n\n              if (!stale) {\n                _context2.next = 5;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 5:\n              setDisplayLang(response);\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n\n    return function () {\n      stale = true;\n    };\n  }, [langCode]);\n\n  if (navigation) {\n    footerMenuData = navigation.footerMenu;\n    footerLegalData = navigation.footerThin;\n  }\n\n  return /*#__PURE__*/React.createElement(\"footer\", {\n    \"data-autoid\": \"\".concat(stablePrefix, \"--footer\"),\n    className: classNames(\"\".concat(prefix, \"--footer\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefix, \"--footer--short\"), type === 'short'), _defineProperty(_classNames, \"\".concat(prefix, \"--footer--micro\"), type === 'micro'), _classNames))\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"\".concat(prefix, \"--footer__main\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefix, \"--footer__main-container\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefix, \"--footer__logo-container\"), _defineProperty({}, \"\".concat(prefix, \"--footer__locale-button--disabled\"), disableLocaleButton))\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefix, \"--footer__logo-row\")\n  }, type !== 'micro' && /*#__PURE__*/React.createElement(FooterLogo, null), type !== 'micro' && _loadLocaleLanguage(disableLocaleButton, displayLang, languageOnly, labelText, languageItems, languageInitialItem, languageCallback))), (type === 'default' || type === undefined) && /*#__PURE__*/React.createElement(FooterNav, {\n    groups: footerMenuData,\n    disableLocaleButton: disableLocaleButton\n  }))), /*#__PURE__*/React.createElement(LegalNav, {\n    links: footerLegalData,\n    type: type,\n    adjunctLinks: adjunctLinks,\n    button: type === 'micro' ? _loadLocaleLanguage(disableLocaleButton, displayLang, languageOnly, labelText, languageItems, languageInitialItem, languageCallback) : null\n  }));\n};\n/**\n * Loads in the locale modal, language selector, or null\n *\n * @param {boolean} disableLocaleButton Flag to disable to locale button\n * @param {string} displayLang display language and aria-label for locale button\n * @param {boolean} languageOnly Switches to the language selector\n * @param {string} labelText Label text for locale/language selector\n * @param {Array} languageItems Array of language data for the dropdown\n * @param {object} languageInitialItem Initial language selected\n * @param {Function} languageCallback Callback function when language is selected\n * @returns {null|*} JSX or null\n * @private\n */\n\n\nfunction _loadLocaleLanguage(disableLocaleButton, displayLang, languageOnly, labelText, languageItems, languageInitialItem, languageCallback) {\n  if (languageOnly) {\n    return /*#__PURE__*/React.createElement(LanguageSelector, {\n      items: languageItems,\n      initialSelectedItem: languageInitialItem,\n      callback: languageCallback,\n      labelText: labelText\n    });\n  } else if (!disableLocaleButton) {\n    return /*#__PURE__*/React.createElement(LocaleButton, {\n      aria: displayLang,\n      displayLang: displayLang\n    });\n  } else {\n    return null;\n  }\n}\n\nFooter.propTypes = {\n  /**\n   * Navigation data object for Footer, used for server-side rendering.\n   */\n  navigation: PropTypes.shape({\n    footerMenu: PropTypes.arrayOf(PropTypes.shape({\n      title: PropTypes.string,\n      links: PropTypes.arrayOf(PropTypes.shape({\n        title: PropTypes.string,\n        url: PropTypes.string\n      }))\n    })),\n    footerThin: PropTypes.arrayOf(PropTypes.shape({\n      title: PropTypes.string,\n      url: PropTypes.string\n    }))\n  }),\n\n  /**\n   * Type of Footer. Choose from:\n   *\n   * | Name    | Description                                                                 |\n   * | ------- | --------------------------------------------------------------------------- |\n   * | `default`  | Default footer variant includes additional navigation taking up more space. |\n   * | `short` | Short footer variant reduces space by removing any additional navigation.   |\n   * | `micro` | Micro footer variant includes legal navigation and locale button only.      |\n   */\n  type: PropTypes.oneOf(['default', 'short', 'micro']),\n\n  /**\n   * Language code for fetching the display name.\n   */\n  langCode: PropTypes.shape({\n    cc: PropTypes.string,\n    lc: PropTypes.string\n  }),\n\n  /**\n   * `true` to disable the Locale button.\n   */\n  disableLocaleButton: PropTypes.bool,\n\n  /**\n   * `true` to switch the locale button with a language selector.\n   */\n  languageOnly: PropTypes.bool,\n\n  /**\n   * Label text for combobox/select\n   */\n  labelText: PropTypes.string,\n\n  /**\n   * Array of items for the language selector,\n   * uses [Carbon ComboBox](https://react.carbondesignsystem.com/?path=/story/combobox--combobox) for desktop,\n   * and [Carbon Select](https://react.carbondesignsystem.com/?path=/story/select--default) for tablet/mobile.\n   */\n  languageItems: PropTypes.arrayOf(PropTypes.object),\n\n  /**\n   * Sets the initial language selector value when the component is loaded.\n   * The default is the first item.\n   */\n  languageInitialItem: PropTypes.shape({\n    id: PropTypes.string,\n    text: PropTypes.string\n  }),\n\n  /**\n   * Callback function onChange of the language selector.\n   */\n  languageCallback: PropTypes.func,\n\n  /**\n   * List of adjunct links to be rendered\n   */\n  adjunctLinks: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string,\n    url: PropTypes.string\n  }))\n};\n/**\n * @property {object} defaultProps default Footer props\n * @type {{navigation: null, langCode: null, disableLocaleButton: boolean,\n * type: string}}\n */\n\nFooter.defaultProps = {\n  navigation: null,\n  type: 'default',\n  langCode: null,\n  disableLocaleButton: false,\n  languageOnly: false,\n  languageItems: [],\n  languageCallback: function languageCallback() {},\n  adjunctLinks: []\n};\nexport default Footer;","map":{"version":3,"sources":["/Users/henriquefelixcastro/Downloads/Educathon 2022/educathon-2022-website/node_modules/@carbon/ibmdotcom-react/es/components/Footer/Footer.js"],"names":["_defineProperty","_regeneratorRuntime","_asyncToGenerator","_slicedToArray","React","useEffect","useState","classNames","ddsSettings","FooterLogo","FooterNav","globalInit","LanguageSelector","LegalNav","LocaleAPI","LocaleButton","PropTypes","settings","TranslationAPI","stablePrefix","prefix","Footer","_ref","_classNames","type","navigation","langCode","disableLocaleButton","languageOnly","labelText","languageItems","languageInitialItem","languageCallback","adjunctLinks","_useState","_useState2","footerMenuData","setFooterMenuData","_useState3","_useState4","footerLegalData","setFooterLegalData","_useState5","_useState6","displayLang","setDisplayLang","stale","mark","_callee","response","wrap","_callee$","_context","prev","next","getTranslation","sent","footerMenu","footerThin","t0","console","error","stop","_callee2","_callee2$","_context2","getLangDisplay","abrupt","createElement","concat","className","_loadLocaleLanguage","undefined","groups","links","button","items","initialSelectedItem","callback","aria","propTypes","shape","arrayOf","title","string","url","oneOf","cc","lc","bool","object","id","text","func","defaultProps"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,uCAA5B;AACA,OAAOC,mBAAP,MAAgC,4BAAhC;AACA,OAAOC,iBAAP,MAA8B,yCAA9B;AACA,OAAOC,cAAP,MAA2B,sCAA3B;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,WAAP,MAAwB,+EAAxB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,UAAT,QAA2B,yEAA3B;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,SAAP,MAAsB,yEAAtB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,0CAArB;AACA,OAAOC,cAAP,MAA2B,mFAA3B;AACA,IAAIC,YAAY,GAAGX,WAAW,CAACW,YAA/B;AACA,IAAIC,MAAM,GAAGH,QAAQ,CAACG,MAAtB;AACA;AACA;AACA;;AAEA,IAAIC,MAAM,GAAG,SAASA,MAAT,CAAgBC,IAAhB,EAAsB;AACjC,MAAIC,WAAJ;;AAEA,MAAIC,IAAI,GAAGF,IAAI,CAACE,IAAhB;AAAA,MACIC,UAAU,GAAGH,IAAI,CAACG,UADtB;AAAA,MAEIC,QAAQ,GAAGJ,IAAI,CAACI,QAFpB;AAAA,MAGIC,mBAAmB,GAAGL,IAAI,CAACK,mBAH/B;AAAA,MAIIC,YAAY,GAAGN,IAAI,CAACM,YAJxB;AAAA,MAKIC,SAAS,GAAGP,IAAI,CAACO,SALrB;AAAA,MAMIC,aAAa,GAAGR,IAAI,CAACQ,aANzB;AAAA,MAOIC,mBAAmB,GAAGT,IAAI,CAACS,mBAP/B;AAAA,MAQIC,gBAAgB,GAAGV,IAAI,CAACU,gBAR5B;AAAA,MASIC,YAAY,GAAGX,IAAI,CAACW,YATxB;;AAWA,MAAIC,SAAS,GAAG5B,QAAQ,CAAC,EAAD,CAAxB;AAAA,MACI6B,UAAU,GAAGhC,cAAc,CAAC+B,SAAD,EAAY,CAAZ,CAD/B;AAAA,MAEIE,cAAc,GAAGD,UAAU,CAAC,CAAD,CAF/B;AAAA,MAGIE,iBAAiB,GAAGF,UAAU,CAAC,CAAD,CAHlC;;AAKA,MAAIG,UAAU,GAAGhC,QAAQ,CAAC,EAAD,CAAzB;AAAA,MACIiC,UAAU,GAAGpC,cAAc,CAACmC,UAAD,EAAa,CAAb,CAD/B;AAAA,MAEIE,eAAe,GAAGD,UAAU,CAAC,CAAD,CAFhC;AAAA,MAGIE,kBAAkB,GAAGF,UAAU,CAAC,CAAD,CAHnC;;AAKA,MAAIG,UAAU,GAAGpC,QAAQ,CAAC,EAAD,CAAzB;AAAA,MACIqC,UAAU,GAAGxC,cAAc,CAACuC,UAAD,EAAa,CAAb,CAD/B;AAAA,MAEIE,WAAW,GAAGD,UAAU,CAAC,CAAD,CAF5B;AAAA,MAGIE,cAAc,GAAGF,UAAU,CAAC,CAAD,CAH/B;;AAKAtC,EAAAA,SAAS,CAAC,YAAY;AACpB;AACAM,IAAAA,UAAU;AACX,GAHQ,EAGN,EAHM,CAAT;AAIAN,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAIyC,KAAK,GAAG,KAAZ;;AAEA,QAAI,CAACrB,UAAL,EAAiB;AACfvB,MAAAA,iBAAiB,EAAE,aAAaD,mBAAmB,CAAC8C,IAApB,CAAyB,SAASC,OAAT,GAAmB;AAC1E,YAAIC,QAAJ;AACA,eAAOhD,mBAAmB,CAACiD,IAApB,CAAyB,SAASC,QAAT,CAAkBC,QAAlB,EAA4B;AAC1D,iBAAO,CAAP,EAAU;AACR,oBAAQA,QAAQ,CAACC,IAAT,GAAgBD,QAAQ,CAACE,IAAjC;AACE,mBAAK,CAAL;AACEF,gBAAAA,QAAQ,CAACC,IAAT,GAAgB,CAAhB;AACAD,gBAAAA,QAAQ,CAACE,IAAT,GAAgB,CAAhB;AACA,uBAAOpC,cAAc,CAACqC,cAAf,EAAP;;AAEF,mBAAK,CAAL;AACEN,gBAAAA,QAAQ,GAAGG,QAAQ,CAACI,IAApB;;AAEA,oBAAI,CAACV,KAAL,EAAY;AACVT,kBAAAA,iBAAiB,CAACY,QAAQ,CAACQ,UAAV,CAAjB;AACAhB,kBAAAA,kBAAkB,CAACQ,QAAQ,CAACS,UAAV,CAAlB;AACD;;AAEDN,gBAAAA,QAAQ,CAACE,IAAT,GAAgB,EAAhB;AACA;;AAEF,mBAAK,CAAL;AACEF,gBAAAA,QAAQ,CAACC,IAAT,GAAgB,CAAhB;AACAD,gBAAAA,QAAQ,CAACO,EAAT,GAAcP,QAAQ,CAAC,OAAD,CAAR,CAAkB,CAAlB,CAAd;AACAQ,gBAAAA,OAAO,CAACC,KAAR,CAAc,+BAAd,EAA+CT,QAAQ,CAACO,EAAxD;;AAEF,mBAAK,EAAL;AACA,mBAAK,KAAL;AACE,uBAAOP,QAAQ,CAACU,IAAT,EAAP;AAxBJ;AA0BD;AACF,SA7BM,EA6BJd,OA7BI,EA6BK,IA7BL,EA6BW,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,CA7BX,CAAP;AA8BD,OAhC+B,CAAf,CAAjB;AAiCD;;AAED,WAAO,YAAY;AACjBF,MAAAA,KAAK,GAAG,IAAR;AACD,KAFD;AAGD,GA1CQ,EA0CN,CAACrB,UAAD,CA1CM,CAAT;AA2CApB,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAIyC,KAAK,GAAG,KAAZ;;AAEA5C,IAAAA,iBAAiB,EAAE,aAAaD,mBAAmB,CAAC8C,IAApB,CAAyB,SAASgB,QAAT,GAAoB;AAC3E,UAAId,QAAJ;AACA,aAAOhD,mBAAmB,CAACiD,IAApB,CAAyB,SAASc,SAAT,CAAmBC,SAAnB,EAA8B;AAC5D,eAAO,CAAP,EAAU;AACR,kBAAQA,SAAS,CAACZ,IAAV,GAAiBY,SAAS,CAACX,IAAnC;AACE,iBAAK,CAAL;AACEW,cAAAA,SAAS,CAACX,IAAV,GAAiB,CAAjB;AACA,qBAAOxC,SAAS,CAACoD,cAAV,CAAyBxC,QAAzB,CAAP;;AAEF,iBAAK,CAAL;AACEuB,cAAAA,QAAQ,GAAGgB,SAAS,CAACT,IAArB;;AAEA,kBAAI,CAACV,KAAL,EAAY;AACVmB,gBAAAA,SAAS,CAACX,IAAV,GAAiB,CAAjB;AACA;AACD;;AAED,qBAAOW,SAAS,CAACE,MAAV,CAAiB,QAAjB,CAAP;;AAEF,iBAAK,CAAL;AACEtB,cAAAA,cAAc,CAACI,QAAD,CAAd;;AAEF,iBAAK,CAAL;AACA,iBAAK,KAAL;AACE,qBAAOgB,SAAS,CAACH,IAAV,EAAP;AApBJ;AAsBD;AACF,OAzBM,EAyBJC,QAzBI,CAAP;AA0BD,KA5B+B,CAAf,CAAjB;;AA8BA,WAAO,YAAY;AACjBjB,MAAAA,KAAK,GAAG,IAAR;AACD,KAFD;AAGD,GApCQ,EAoCN,CAACpB,QAAD,CApCM,CAAT;;AAsCA,MAAID,UAAJ,EAAgB;AACdW,IAAAA,cAAc,GAAGX,UAAU,CAACgC,UAA5B;AACAjB,IAAAA,eAAe,GAAGf,UAAU,CAACiC,UAA7B;AACD;;AAED,SAAO,aAAatD,KAAK,CAACgE,aAAN,CAAoB,QAApB,EAA8B;AAChD,mBAAe,GAAGC,MAAH,CAAUlD,YAAV,EAAwB,UAAxB,CADiC;AAEhDmD,IAAAA,SAAS,EAAE/D,UAAU,CAAC,GAAG8D,MAAH,CAAUjD,MAAV,EAAkB,UAAlB,CAAD,GAAiCG,WAAW,GAAG,EAAd,EAAkBvB,eAAe,CAACuB,WAAD,EAAc,GAAG8C,MAAH,CAAUjD,MAAV,EAAkB,iBAAlB,CAAd,EAAoDI,IAAI,KAAK,OAA7D,CAAjC,EAAwGxB,eAAe,CAACuB,WAAD,EAAc,GAAG8C,MAAH,CAAUjD,MAAV,EAAkB,iBAAlB,CAAd,EAAoDI,IAAI,KAAK,OAA7D,CAAvH,EAA8LD,WAA/N;AAF2B,GAA9B,EAGjB,aAAanB,KAAK,CAACgE,aAAN,CAAoB,SAApB,EAA+B;AAC7CE,IAAAA,SAAS,EAAE,GAAGD,MAAH,CAAUjD,MAAV,EAAkB,gBAAlB;AADkC,GAA/B,EAEb,aAAahB,KAAK,CAACgE,aAAN,CAAoB,KAApB,EAA2B;AACzCE,IAAAA,SAAS,EAAE,GAAGD,MAAH,CAAUjD,MAAV,EAAkB,0BAAlB;AAD8B,GAA3B,EAEb,aAAahB,KAAK,CAACgE,aAAN,CAAoB,KAApB,EAA2B;AACzCE,IAAAA,SAAS,EAAE/D,UAAU,CAAC,GAAG8D,MAAH,CAAUjD,MAAV,EAAkB,0BAAlB,CAAD,EAAgDpB,eAAe,CAAC,EAAD,EAAK,GAAGqE,MAAH,CAAUjD,MAAV,EAAkB,mCAAlB,CAAL,EAA6DO,mBAA7D,CAA/D;AADoB,GAA3B,EAEb,aAAavB,KAAK,CAACgE,aAAN,CAAoB,KAApB,EAA2B;AACzCE,IAAAA,SAAS,EAAE,GAAGD,MAAH,CAAUjD,MAAV,EAAkB,oBAAlB;AAD8B,GAA3B,EAEbI,IAAI,KAAK,OAAT,IAAoB,aAAapB,KAAK,CAACgE,aAAN,CAAoB3D,UAApB,EAAgC,IAAhC,CAFpB,EAE2De,IAAI,KAAK,OAAT,IAAoB+C,mBAAmB,CAAC5C,mBAAD,EAAsBiB,WAAtB,EAAmChB,YAAnC,EAAiDC,SAAjD,EAA4DC,aAA5D,EAA2EC,mBAA3E,EAAgGC,gBAAhG,CAFlG,CAFA,CAFA,EAMuN,CAACR,IAAI,KAAK,SAAT,IAAsBA,IAAI,KAAKgD,SAAhC,KAA8C,aAAapE,KAAK,CAACgE,aAAN,CAAoB1D,SAApB,EAA+B;AAC/T+D,IAAAA,MAAM,EAAErC,cADuT;AAE/TT,IAAAA,mBAAmB,EAAEA;AAF0S,GAA/B,CANlR,CAFA,CAHI,EAcd,aAAavB,KAAK,CAACgE,aAAN,CAAoBvD,QAApB,EAA8B;AAC/C6D,IAAAA,KAAK,EAAElC,eADwC;AAE/ChB,IAAAA,IAAI,EAAEA,IAFyC;AAG/CS,IAAAA,YAAY,EAAEA,YAHiC;AAI/C0C,IAAAA,MAAM,EAAEnD,IAAI,KAAK,OAAT,GAAmB+C,mBAAmB,CAAC5C,mBAAD,EAAsBiB,WAAtB,EAAmChB,YAAnC,EAAiDC,SAAjD,EAA4DC,aAA5D,EAA2EC,mBAA3E,EAAgGC,gBAAhG,CAAtC,GAA0J;AAJnH,GAA9B,CAdC,CAApB;AAoBD,CA3ID;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAASuC,mBAAT,CAA6B5C,mBAA7B,EAAkDiB,WAAlD,EAA+DhB,YAA/D,EAA6EC,SAA7E,EAAwFC,aAAxF,EAAuGC,mBAAvG,EAA4HC,gBAA5H,EAA8I;AAC5I,MAAIJ,YAAJ,EAAkB;AAChB,WAAO,aAAaxB,KAAK,CAACgE,aAAN,CAAoBxD,gBAApB,EAAsC;AACxDgE,MAAAA,KAAK,EAAE9C,aADiD;AAExD+C,MAAAA,mBAAmB,EAAE9C,mBAFmC;AAGxD+C,MAAAA,QAAQ,EAAE9C,gBAH8C;AAIxDH,MAAAA,SAAS,EAAEA;AAJ6C,KAAtC,CAApB;AAMD,GAPD,MAOO,IAAI,CAACF,mBAAL,EAA0B;AAC/B,WAAO,aAAavB,KAAK,CAACgE,aAAN,CAAoBrD,YAApB,EAAkC;AACpDgE,MAAAA,IAAI,EAAEnC,WAD8C;AAEpDA,MAAAA,WAAW,EAAEA;AAFuC,KAAlC,CAApB;AAID,GALM,MAKA;AACL,WAAO,IAAP;AACD;AACF;;AAEDvB,MAAM,CAAC2D,SAAP,GAAmB;AACjB;AACF;AACA;AACEvD,EAAAA,UAAU,EAAET,SAAS,CAACiE,KAAV,CAAgB;AAC1BxB,IAAAA,UAAU,EAAEzC,SAAS,CAACkE,OAAV,CAAkBlE,SAAS,CAACiE,KAAV,CAAgB;AAC5CE,MAAAA,KAAK,EAAEnE,SAAS,CAACoE,MAD2B;AAE5CV,MAAAA,KAAK,EAAE1D,SAAS,CAACkE,OAAV,CAAkBlE,SAAS,CAACiE,KAAV,CAAgB;AACvCE,QAAAA,KAAK,EAAEnE,SAAS,CAACoE,MADsB;AAEvCC,QAAAA,GAAG,EAAErE,SAAS,CAACoE;AAFwB,OAAhB,CAAlB;AAFqC,KAAhB,CAAlB,CADc;AAQ1B1B,IAAAA,UAAU,EAAE1C,SAAS,CAACkE,OAAV,CAAkBlE,SAAS,CAACiE,KAAV,CAAgB;AAC5CE,MAAAA,KAAK,EAAEnE,SAAS,CAACoE,MAD2B;AAE5CC,MAAAA,GAAG,EAAErE,SAAS,CAACoE;AAF6B,KAAhB,CAAlB;AARc,GAAhB,CAJK;;AAkBjB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE5D,EAAAA,IAAI,EAAER,SAAS,CAACsE,KAAV,CAAgB,CAAC,SAAD,EAAY,OAAZ,EAAqB,OAArB,CAAhB,CA3BW;;AA6BjB;AACF;AACA;AACE5D,EAAAA,QAAQ,EAAEV,SAAS,CAACiE,KAAV,CAAgB;AACxBM,IAAAA,EAAE,EAAEvE,SAAS,CAACoE,MADU;AAExBI,IAAAA,EAAE,EAAExE,SAAS,CAACoE;AAFU,GAAhB,CAhCO;;AAqCjB;AACF;AACA;AACEzD,EAAAA,mBAAmB,EAAEX,SAAS,CAACyE,IAxCd;;AA0CjB;AACF;AACA;AACE7D,EAAAA,YAAY,EAAEZ,SAAS,CAACyE,IA7CP;;AA+CjB;AACF;AACA;AACE5D,EAAAA,SAAS,EAAEb,SAAS,CAACoE,MAlDJ;;AAoDjB;AACF;AACA;AACA;AACA;AACEtD,EAAAA,aAAa,EAAEd,SAAS,CAACkE,OAAV,CAAkBlE,SAAS,CAAC0E,MAA5B,CAzDE;;AA2DjB;AACF;AACA;AACA;AACE3D,EAAAA,mBAAmB,EAAEf,SAAS,CAACiE,KAAV,CAAgB;AACnCU,IAAAA,EAAE,EAAE3E,SAAS,CAACoE,MADqB;AAEnCQ,IAAAA,IAAI,EAAE5E,SAAS,CAACoE;AAFmB,GAAhB,CA/DJ;;AAoEjB;AACF;AACA;AACEpD,EAAAA,gBAAgB,EAAEhB,SAAS,CAAC6E,IAvEX;;AAyEjB;AACF;AACA;AACE5D,EAAAA,YAAY,EAAEjB,SAAS,CAACkE,OAAV,CAAkBlE,SAAS,CAACiE,KAAV,CAAgB;AAC9CE,IAAAA,KAAK,EAAEnE,SAAS,CAACoE,MAD6B;AAE9CC,IAAAA,GAAG,EAAErE,SAAS,CAACoE;AAF+B,GAAhB,CAAlB;AA5EG,CAAnB;AAiFA;AACA;AACA;AACA;AACA;;AAEA/D,MAAM,CAACyE,YAAP,GAAsB;AACpBrE,EAAAA,UAAU,EAAE,IADQ;AAEpBD,EAAAA,IAAI,EAAE,SAFc;AAGpBE,EAAAA,QAAQ,EAAE,IAHU;AAIpBC,EAAAA,mBAAmB,EAAE,KAJD;AAKpBC,EAAAA,YAAY,EAAE,KALM;AAMpBE,EAAAA,aAAa,EAAE,EANK;AAOpBE,EAAAA,gBAAgB,EAAE,SAASA,gBAAT,GAA4B,CAAE,CAP5B;AAQpBC,EAAAA,YAAY,EAAE;AARM,CAAtB;AAUA,eAAeZ,MAAf","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\n/**\n * Copyright IBM Corp. 2016, 2022\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport ddsSettings from '../../internal/vendor/@carbon/ibmdotcom-utilities/utilities/settings/settings';\nimport FooterLogo from './FooterLogo';\nimport FooterNav from './FooterNav';\nimport { globalInit } from '../../internal/vendor/@carbon/ibmdotcom-services/services/global/global';\nimport LanguageSelector from './LanguageSelector';\nimport LegalNav from './LegalNav';\nimport LocaleAPI from '../../internal/vendor/@carbon/ibmdotcom-services/services/Locale/Locale';\nimport LocaleButton from './LocaleButton';\nimport PropTypes from 'prop-types';\nimport settings from 'carbon-components/es/globals/js/settings';\nimport TranslationAPI from '../../internal/vendor/@carbon/ibmdotcom-services/services/Translation/Translation';\nvar stablePrefix = ddsSettings.stablePrefix;\nvar prefix = settings.prefix;\n/**\n * Footer component.\n */\n\nvar Footer = function Footer(_ref) {\n  var _classNames;\n\n  var type = _ref.type,\n      navigation = _ref.navigation,\n      langCode = _ref.langCode,\n      disableLocaleButton = _ref.disableLocaleButton,\n      languageOnly = _ref.languageOnly,\n      labelText = _ref.labelText,\n      languageItems = _ref.languageItems,\n      languageInitialItem = _ref.languageInitialItem,\n      languageCallback = _ref.languageCallback,\n      adjunctLinks = _ref.adjunctLinks;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      footerMenuData = _useState2[0],\n      setFooterMenuData = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      footerLegalData = _useState4[0],\n      setFooterLegalData = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      displayLang = _useState6[0],\n      setDisplayLang = _useState6[1];\n\n  useEffect(function () {\n    // initialize global execution calls\n    globalInit();\n  }, []);\n  useEffect(function () {\n    var stale = false;\n\n    if (!navigation) {\n      _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return TranslationAPI.getTranslation();\n\n              case 3:\n                response = _context.sent;\n\n                if (!stale) {\n                  setFooterMenuData(response.footerMenu);\n                  setFooterLegalData(response.footerThin);\n                }\n\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                console.error('Error populating footer data:', _context.t0);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 7]]);\n      }))();\n    }\n\n    return function () {\n      stale = true;\n    };\n  }, [navigation]);\n  useEffect(function () {\n    var stale = false;\n\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return LocaleAPI.getLangDisplay(langCode);\n\n            case 2:\n              response = _context2.sent;\n\n              if (!stale) {\n                _context2.next = 5;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 5:\n              setDisplayLang(response);\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n\n    return function () {\n      stale = true;\n    };\n  }, [langCode]);\n\n  if (navigation) {\n    footerMenuData = navigation.footerMenu;\n    footerLegalData = navigation.footerThin;\n  }\n\n  return /*#__PURE__*/React.createElement(\"footer\", {\n    \"data-autoid\": \"\".concat(stablePrefix, \"--footer\"),\n    className: classNames(\"\".concat(prefix, \"--footer\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefix, \"--footer--short\"), type === 'short'), _defineProperty(_classNames, \"\".concat(prefix, \"--footer--micro\"), type === 'micro'), _classNames))\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"\".concat(prefix, \"--footer__main\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefix, \"--footer__main-container\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefix, \"--footer__logo-container\"), _defineProperty({}, \"\".concat(prefix, \"--footer__locale-button--disabled\"), disableLocaleButton))\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefix, \"--footer__logo-row\")\n  }, type !== 'micro' && /*#__PURE__*/React.createElement(FooterLogo, null), type !== 'micro' && _loadLocaleLanguage(disableLocaleButton, displayLang, languageOnly, labelText, languageItems, languageInitialItem, languageCallback))), (type === 'default' || type === undefined) && /*#__PURE__*/React.createElement(FooterNav, {\n    groups: footerMenuData,\n    disableLocaleButton: disableLocaleButton\n  }))), /*#__PURE__*/React.createElement(LegalNav, {\n    links: footerLegalData,\n    type: type,\n    adjunctLinks: adjunctLinks,\n    button: type === 'micro' ? _loadLocaleLanguage(disableLocaleButton, displayLang, languageOnly, labelText, languageItems, languageInitialItem, languageCallback) : null\n  }));\n};\n/**\n * Loads in the locale modal, language selector, or null\n *\n * @param {boolean} disableLocaleButton Flag to disable to locale button\n * @param {string} displayLang display language and aria-label for locale button\n * @param {boolean} languageOnly Switches to the language selector\n * @param {string} labelText Label text for locale/language selector\n * @param {Array} languageItems Array of language data for the dropdown\n * @param {object} languageInitialItem Initial language selected\n * @param {Function} languageCallback Callback function when language is selected\n * @returns {null|*} JSX or null\n * @private\n */\n\n\nfunction _loadLocaleLanguage(disableLocaleButton, displayLang, languageOnly, labelText, languageItems, languageInitialItem, languageCallback) {\n  if (languageOnly) {\n    return /*#__PURE__*/React.createElement(LanguageSelector, {\n      items: languageItems,\n      initialSelectedItem: languageInitialItem,\n      callback: languageCallback,\n      labelText: labelText\n    });\n  } else if (!disableLocaleButton) {\n    return /*#__PURE__*/React.createElement(LocaleButton, {\n      aria: displayLang,\n      displayLang: displayLang\n    });\n  } else {\n    return null;\n  }\n}\n\nFooter.propTypes = {\n  /**\n   * Navigation data object for Footer, used for server-side rendering.\n   */\n  navigation: PropTypes.shape({\n    footerMenu: PropTypes.arrayOf(PropTypes.shape({\n      title: PropTypes.string,\n      links: PropTypes.arrayOf(PropTypes.shape({\n        title: PropTypes.string,\n        url: PropTypes.string\n      }))\n    })),\n    footerThin: PropTypes.arrayOf(PropTypes.shape({\n      title: PropTypes.string,\n      url: PropTypes.string\n    }))\n  }),\n\n  /**\n   * Type of Footer. Choose from:\n   *\n   * | Name    | Description                                                                 |\n   * | ------- | --------------------------------------------------------------------------- |\n   * | `default`  | Default footer variant includes additional navigation taking up more space. |\n   * | `short` | Short footer variant reduces space by removing any additional navigation.   |\n   * | `micro` | Micro footer variant includes legal navigation and locale button only.      |\n   */\n  type: PropTypes.oneOf(['default', 'short', 'micro']),\n\n  /**\n   * Language code for fetching the display name.\n   */\n  langCode: PropTypes.shape({\n    cc: PropTypes.string,\n    lc: PropTypes.string\n  }),\n\n  /**\n   * `true` to disable the Locale button.\n   */\n  disableLocaleButton: PropTypes.bool,\n\n  /**\n   * `true` to switch the locale button with a language selector.\n   */\n  languageOnly: PropTypes.bool,\n\n  /**\n   * Label text for combobox/select\n   */\n  labelText: PropTypes.string,\n\n  /**\n   * Array of items for the language selector,\n   * uses [Carbon ComboBox](https://react.carbondesignsystem.com/?path=/story/combobox--combobox) for desktop,\n   * and [Carbon Select](https://react.carbondesignsystem.com/?path=/story/select--default) for tablet/mobile.\n   */\n  languageItems: PropTypes.arrayOf(PropTypes.object),\n\n  /**\n   * Sets the initial language selector value when the component is loaded.\n   * The default is the first item.\n   */\n  languageInitialItem: PropTypes.shape({\n    id: PropTypes.string,\n    text: PropTypes.string\n  }),\n\n  /**\n   * Callback function onChange of the language selector.\n   */\n  languageCallback: PropTypes.func,\n\n  /**\n   * List of adjunct links to be rendered\n   */\n  adjunctLinks: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string,\n    url: PropTypes.string\n  }))\n};\n/**\n * @property {object} defaultProps default Footer props\n * @type {{navigation: null, langCode: null, disableLocaleButton: boolean,\n * type: string}}\n */\n\nFooter.defaultProps = {\n  navigation: null,\n  type: 'default',\n  langCode: null,\n  disableLocaleButton: false,\n  languageOnly: false,\n  languageItems: [],\n  languageCallback: function languageCallback() {},\n  adjunctLinks: []\n};\nexport default Footer;"]},"metadata":{},"sourceType":"module"}