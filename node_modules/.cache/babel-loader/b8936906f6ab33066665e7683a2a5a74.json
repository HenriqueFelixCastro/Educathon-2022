{"ast":null,"code":"/**\n * Copyright IBM Corp. 2016, 2021\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { breakpoints } from '@carbon/layout';\nimport PropTypes from 'prop-types';\nimport settings from 'carbon-components/es/globals/js/settings';\nvar prefix = settings.prefix;\n/**\n * Amount of columns used for calculation.\n *\n * @private\n */\n\nvar colSpan = 3;\n/**\n * Utility handles fade transition for selected elements.\n *\n * @example\n * import { ScrollAnimations } from '@carbon/ibmdotcom-react';\n * import '@carbon/ibmdotcom-styles/scss/components/scroll-into-view/_scroll-into-view.scss';\n *\n * As an example, the function can be called to target all instances of the\n * elements in a list:\n *\n * const list = '.bx--content-block, .bx--content-group';\n *\n * For default values of 400ms and 'one and done' play:\n * <ScrollAnimations selectorTargets={selectorTargets}>\n *   // some content\n * </ScrollAnimations>\n *\n * With 'continuous play' option:\n * <ScrollAnimations animation={'fade'} selectorTargets={selectorTargets} keepAnimations={true}>\n *   // some content\n * </ScrollAnimations>\n *\n * For custom delay time, set within targeted class in the application's CSS code as such:\n *\n * .bx--content-block {\n *   --#{$dds-prefix}--fade-in-out-delay: 250ms;\n * }\n *\n */\n\nvar ScrollAnimations = function ScrollAnimations(_ref) {\n  var animation = _ref.animation,\n      children = _ref.children,\n      selectorTargets = _ref.selectorTargets,\n      keepAnimations = _ref.keepAnimations;\n  /**\n   * Outer div component ref for using with query selector.\n   *\n   * @private\n   */\n\n  var componentRef = useRef(null);\n  /**\n   * Intersection Observer that watches outer viewport.\n   *\n   * @private\n   */\n\n  var rootObserver = useRef(null);\n  /**\n   * Intersection observer that watches the inner viewport.\n   *\n   * @private\n   */\n\n  var innerObserver = useRef(null);\n  /**\n   * Resize observer to trigger rootMargin recalculations\n   *\n   * @private\n   */\n\n  var resizeObserver = useRef(null);\n  /**\n   * Scroll animation class to be applied when element is within viewport.\n   *\n   * @private\n   */\n\n  var effectClass = useRef(null);\n  /**\n   * Scroll animation to be applied when elements are out of view.\n   *\n   * @private\n   */\n\n  var exitEffectClass = useRef(null);\n  /**\n   * Create observers upon render and update.\n   */\n\n  useEffect(function () {\n    setAnimationClasses();\n    rootObserver.current = new IntersectionObserver(handleExit);\n    resizeObserver.current = new ResizeObserver(handleResize);\n\n    if (selectorTargets) {\n      var _componentRef$current;\n\n      (_componentRef$current = componentRef.current) === null || _componentRef$current === void 0 ? void 0 : _componentRef$current.querySelectorAll(selectorTargets).forEach(function (item) {\n        rootObserver === null || rootObserver === void 0 ? void 0 : rootObserver.current.observe(item);\n      });\n    }\n\n    resizeObserver.current.observe(document.documentElement);\n    return function () {\n      rootObserver.current.disconnect();\n      innerObserver.current.disconnect();\n      resizeObserver.current.disconnect();\n      rootObserver.current = null;\n      innerObserver.current = null;\n      resizeObserver.current = null;\n    };\n  }, [componentRef, selectorTargets, setAnimationClasses, handleEntrance, handleResize]);\n  /**\n   * Handler to add recalculated rootMargin to a new instance of\n   * inner observer after clearing old one first.\n   *\n   * The calculation is done to retrieve the best fitting top and bottom\n   * margin for the fade animation to trigger/remove from elements in a\n   * user's screen.\n   *\n   * The resulting value is the optimal point where a user's attention will be\n   * grabbed by the animation without restricting their view and perception of\n   * the adopting website. The displayed elements will keep the user's attention\n   * for a longer time as they scroll down the website.\n   *\n   * @private\n   */\n\n  var handleResize = useCallback(function () {\n    if (innerObserver.current) {\n      innerObserver.current.disconnect();\n      innerObserver.current = null;\n    }\n\n    innerObserver.current = new IntersectionObserver(handleEntrance, {\n      rootMargin: \"-\".concat((document.documentElement.clientHeight * colSpan / breakpoints.max.columns).toString(), \"px 0px\")\n    });\n\n    if (selectorTargets) {\n      var _componentRef$current2;\n\n      (_componentRef$current2 = componentRef.current) === null || _componentRef$current2 === void 0 ? void 0 : _componentRef$current2.querySelectorAll(selectorTargets).forEach(function (item) {\n        innerObserver === null || innerObserver === void 0 ? void 0 : innerObserver.current.observe(item);\n      });\n    }\n  }, [componentRef, innerObserver, selectorTargets, handleEntrance]);\n  /**\n   * Handler to add fade animation to element\n   *\n   * @param {*} records observed elements\n   * @private\n   *\n   */\n\n  var handleEntrance = useCallback(function (records) {\n    records.forEach(function (_ref2) {\n      var intersectionRatio = _ref2.intersectionRatio,\n          target = _ref2.target;\n\n      if (intersectionRatio > 0) {\n        target.classList.remove(exitEffectClass.current);\n        target.classList.add(effectClass.current);\n\n        if (!keepAnimations) {\n          rootObserver.current.unobserve(target);\n          innerObserver.current.unobserve(target);\n        }\n      }\n    });\n  }, [keepAnimations, rootObserver, innerObserver]);\n  /**\n   * Handler to remove element from view\n   *\n   * @param {*} records observed elements\n   * @private\n   *\n   */\n\n  function handleExit(records) {\n    records.forEach(function (_ref3) {\n      var intersectionRatio = _ref3.intersectionRatio,\n          target = _ref3.target;\n\n      if (intersectionRatio == 0) {\n        target.classList.remove(effectClass.current);\n        target.classList.add(exitEffectClass.current);\n      }\n    });\n  }\n\n  var setAnimationClasses = useCallback(function () {\n    switch (animation) {\n      case 'slide-up':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-up\");\n        break;\n\n      case 'slide-up-right':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-up-right\");\n        break;\n\n      case 'slide-right':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-right\");\n        break;\n\n      case 'slide-down-right':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-down-right\");\n        break;\n\n      case 'slide-down':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-down\");\n        break;\n\n      case 'slide-down-left':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-down-left\");\n        break;\n\n      case 'slide-left':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-left\");\n        break;\n\n      case 'slide-up-left':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-up-left\");\n        break;\n\n      default:\n        effectClass.current = \"\".concat(prefix, \"--fade-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--fade-out\");\n        break;\n    }\n  }, [animation, effectClass, exitEffectClass]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: componentRef\n  }, children);\n};\n\nScrollAnimations.propTypes = {\n  /**\n   * String that determines what effect to display\n   */\n  animation: PropTypes.string,\n\n  /**\n   * Component(s) to render within the component\n   */\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n\n  /**\n   * List of elements to be targeted\n   */\n  selectorTargets: PropTypes.string,\n\n  /**\n   * Boolean to define if animation is continuous\n   */\n  keepAnimations: PropTypes.bool\n};\nexport default ScrollAnimations;","map":{"version":3,"sources":["/Users/henriquefelixcastro/Downloads/Educathon 2022/educathon-2022-website/node_modules/@carbon/ibmdotcom-react/es/components/ScrollAnimations/ScrollAnimations.js"],"names":["React","useCallback","useEffect","useRef","breakpoints","PropTypes","settings","prefix","colSpan","ScrollAnimations","_ref","animation","children","selectorTargets","keepAnimations","componentRef","rootObserver","innerObserver","resizeObserver","effectClass","exitEffectClass","setAnimationClasses","current","IntersectionObserver","handleExit","ResizeObserver","handleResize","_componentRef$current","querySelectorAll","forEach","item","observe","document","documentElement","disconnect","handleEntrance","rootMargin","concat","clientHeight","max","columns","toString","_componentRef$current2","records","_ref2","intersectionRatio","target","classList","remove","add","unobserve","_ref3","createElement","ref","propTypes","string","oneOfType","arrayOf","node","isRequired","bool"],"mappings":"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","sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2021\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { breakpoints } from '@carbon/layout';\nimport PropTypes from 'prop-types';\nimport settings from 'carbon-components/es/globals/js/settings';\nvar prefix = settings.prefix;\n/**\n * Amount of columns used for calculation.\n *\n * @private\n */\n\nvar colSpan = 3;\n/**\n * Utility handles fade transition for selected elements.\n *\n * @example\n * import { ScrollAnimations } from '@carbon/ibmdotcom-react';\n * import '@carbon/ibmdotcom-styles/scss/components/scroll-into-view/_scroll-into-view.scss';\n *\n * As an example, the function can be called to target all instances of the\n * elements in a list:\n *\n * const list = '.bx--content-block, .bx--content-group';\n *\n * For default values of 400ms and 'one and done' play:\n * <ScrollAnimations selectorTargets={selectorTargets}>\n *   // some content\n * </ScrollAnimations>\n *\n * With 'continuous play' option:\n * <ScrollAnimations animation={'fade'} selectorTargets={selectorTargets} keepAnimations={true}>\n *   // some content\n * </ScrollAnimations>\n *\n * For custom delay time, set within targeted class in the application's CSS code as such:\n *\n * .bx--content-block {\n *   --#{$dds-prefix}--fade-in-out-delay: 250ms;\n * }\n *\n */\n\nvar ScrollAnimations = function ScrollAnimations(_ref) {\n  var animation = _ref.animation,\n      children = _ref.children,\n      selectorTargets = _ref.selectorTargets,\n      keepAnimations = _ref.keepAnimations;\n\n  /**\n   * Outer div component ref for using with query selector.\n   *\n   * @private\n   */\n  var componentRef = useRef(null);\n  /**\n   * Intersection Observer that watches outer viewport.\n   *\n   * @private\n   */\n\n  var rootObserver = useRef(null);\n  /**\n   * Intersection observer that watches the inner viewport.\n   *\n   * @private\n   */\n\n  var innerObserver = useRef(null);\n  /**\n   * Resize observer to trigger rootMargin recalculations\n   *\n   * @private\n   */\n\n  var resizeObserver = useRef(null);\n  /**\n   * Scroll animation class to be applied when element is within viewport.\n   *\n   * @private\n   */\n\n  var effectClass = useRef(null);\n  /**\n   * Scroll animation to be applied when elements are out of view.\n   *\n   * @private\n   */\n\n  var exitEffectClass = useRef(null);\n  /**\n   * Create observers upon render and update.\n   */\n\n  useEffect(function () {\n    setAnimationClasses();\n    rootObserver.current = new IntersectionObserver(handleExit);\n    resizeObserver.current = new ResizeObserver(handleResize);\n\n    if (selectorTargets) {\n      var _componentRef$current;\n\n      (_componentRef$current = componentRef.current) === null || _componentRef$current === void 0 ? void 0 : _componentRef$current.querySelectorAll(selectorTargets).forEach(function (item) {\n        rootObserver === null || rootObserver === void 0 ? void 0 : rootObserver.current.observe(item);\n      });\n    }\n\n    resizeObserver.current.observe(document.documentElement);\n    return function () {\n      rootObserver.current.disconnect();\n      innerObserver.current.disconnect();\n      resizeObserver.current.disconnect();\n      rootObserver.current = null;\n      innerObserver.current = null;\n      resizeObserver.current = null;\n    };\n  }, [componentRef, selectorTargets, setAnimationClasses, handleEntrance, handleResize]);\n  /**\n   * Handler to add recalculated rootMargin to a new instance of\n   * inner observer after clearing old one first.\n   *\n   * The calculation is done to retrieve the best fitting top and bottom\n   * margin for the fade animation to trigger/remove from elements in a\n   * user's screen.\n   *\n   * The resulting value is the optimal point where a user's attention will be\n   * grabbed by the animation without restricting their view and perception of\n   * the adopting website. The displayed elements will keep the user's attention\n   * for a longer time as they scroll down the website.\n   *\n   * @private\n   */\n\n  var handleResize = useCallback(function () {\n    if (innerObserver.current) {\n      innerObserver.current.disconnect();\n      innerObserver.current = null;\n    }\n\n    innerObserver.current = new IntersectionObserver(handleEntrance, {\n      rootMargin: \"-\".concat((document.documentElement.clientHeight * colSpan / breakpoints.max.columns).toString(), \"px 0px\")\n    });\n\n    if (selectorTargets) {\n      var _componentRef$current2;\n\n      (_componentRef$current2 = componentRef.current) === null || _componentRef$current2 === void 0 ? void 0 : _componentRef$current2.querySelectorAll(selectorTargets).forEach(function (item) {\n        innerObserver === null || innerObserver === void 0 ? void 0 : innerObserver.current.observe(item);\n      });\n    }\n  }, [componentRef, innerObserver, selectorTargets, handleEntrance]);\n  /**\n   * Handler to add fade animation to element\n   *\n   * @param {*} records observed elements\n   * @private\n   *\n   */\n\n  var handleEntrance = useCallback(function (records) {\n    records.forEach(function (_ref2) {\n      var intersectionRatio = _ref2.intersectionRatio,\n          target = _ref2.target;\n\n      if (intersectionRatio > 0) {\n        target.classList.remove(exitEffectClass.current);\n        target.classList.add(effectClass.current);\n\n        if (!keepAnimations) {\n          rootObserver.current.unobserve(target);\n          innerObserver.current.unobserve(target);\n        }\n      }\n    });\n  }, [keepAnimations, rootObserver, innerObserver]);\n  /**\n   * Handler to remove element from view\n   *\n   * @param {*} records observed elements\n   * @private\n   *\n   */\n\n  function handleExit(records) {\n    records.forEach(function (_ref3) {\n      var intersectionRatio = _ref3.intersectionRatio,\n          target = _ref3.target;\n\n      if (intersectionRatio == 0) {\n        target.classList.remove(effectClass.current);\n        target.classList.add(exitEffectClass.current);\n      }\n    });\n  }\n\n  var setAnimationClasses = useCallback(function () {\n    switch (animation) {\n      case 'slide-up':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-up\");\n        break;\n\n      case 'slide-up-right':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-up-right\");\n        break;\n\n      case 'slide-right':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-right\");\n        break;\n\n      case 'slide-down-right':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-down-right\");\n        break;\n\n      case 'slide-down':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-down\");\n        break;\n\n      case 'slide-down-left':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-down-left\");\n        break;\n\n      case 'slide-left':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-left\");\n        break;\n\n      case 'slide-up-left':\n        effectClass.current = \"\".concat(prefix, \"--slide-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--slide-up-left\");\n        break;\n\n      default:\n        effectClass.current = \"\".concat(prefix, \"--fade-in\");\n        exitEffectClass.current = \"\".concat(prefix, \"--fade-out\");\n        break;\n    }\n  }, [animation, effectClass, exitEffectClass]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: componentRef\n  }, children);\n};\n\nScrollAnimations.propTypes = {\n  /**\n   * String that determines what effect to display\n   */\n  animation: PropTypes.string,\n\n  /**\n   * Component(s) to render within the component\n   */\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n\n  /**\n   * List of elements to be targeted\n   */\n  selectorTargets: PropTypes.string,\n\n  /**\n   * Boolean to define if animation is continuous\n   */\n  keepAnimations: PropTypes.bool\n};\nexport default ScrollAnimations;"]},"metadata":{},"sourceType":"module"}